<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础知识 | salvatore&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="Live is what? Get busy living, Or get busy dying">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.a8743741.css" as="style"><link rel="preload" href="/assets/js/app.69479025.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.6a9f3724.js" as="script"><link rel="preload" href="/assets/js/page-基础知识.b49ea14d.js" as="script"><link rel="prefetch" href="/assets/js/182.510c2950.js"><link rel="prefetch" href="/assets/js/183.570acdd9.js"><link rel="prefetch" href="/assets/js/184.441fc1f5.js"><link rel="prefetch" href="/assets/js/185.00381cab.js"><link rel="prefetch" href="/assets/js/186.7decc84e.js"><link rel="prefetch" href="/assets/js/187.cbd7c30a.js"><link rel="prefetch" href="/assets/js/188.14b9347a.js"><link rel="prefetch" href="/assets/js/189.c3e75fcf.js"><link rel="prefetch" href="/assets/js/190.787f6bf6.js"><link rel="prefetch" href="/assets/js/191.3a644dc6.js"><link rel="prefetch" href="/assets/js/192.bb43782a.js"><link rel="prefetch" href="/assets/js/layout-Blog.9bc8887b.js"><link rel="prefetch" href="/assets/js/layout-NotFound.c9164e67.js"><link rel="prefetch" href="/assets/js/layout-Slide.af641d0a.js"><link rel="prefetch" href="/assets/js/layout-components/AlgoliaSearch/Dropdown.ec5c9162.js"><link rel="prefetch" href="/assets/js/layout-components/Anchor.16472954.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleInfo.779bb5e4.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleItem.242d2c0c.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleList.951e60bd.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleType.9fbb695a.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogHero.4e850e3b.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogHome.b100afe6.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogInfo.526f0831.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogPage.b09fed94.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BloggerInfo.f6ab82c8.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/CategoryList.b4c2773c.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ProjectList.6f8a37dd.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/TagList.1ba87d52.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/Timeline.349197d5.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/TimelineList.f1383eaf.js"><link rel="prefetch" href="/assets/js/layout-components/Clipboard.882af9f7.js"><link rel="prefetch" href="/assets/js/layout-components/Common.1a4f4bc8.js"><link rel="prefetch" href="/assets/js/layout-components/Home.1400ad44.js"><link rel="prefetch" href="/assets/js/layout-components/MyTransition.a7bb6056.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/DropdownLink.a89c6d2a.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/NavLink.2d0da3b6.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/NavLinks.723d3101.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/Navbar.4f367839.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/RepoLink.7c491762.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/SidebarButton.e8fae3ce.js"><link rel="prefetch" href="/assets/js/layout-components/Page.1d1bf77d.js"><link rel="prefetch" href="/assets/js/layout-components/PageFooter.c9280247.js"><link rel="prefetch" href="/assets/js/layout-components/PageMeta.fe5a656e.js"><link rel="prefetch" href="/assets/js/layout-components/PageNav.344f0727.js"><link rel="prefetch" href="/assets/js/layout-components/Password.562c7a23.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/DropdownTransition.9363518b.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/Sidebar.2dcffdee.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarDropdownLink.88deef58.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarGroup.10359c5c.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarLink.b16f4846.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarNavLinks.32615b5e.js"><link rel="prefetch" href="/assets/js/layout-components/Theme/DarkmodeSwitch.f142a4c2.js"><link rel="prefetch" href="/assets/js/layout-components/Theme/ThemeColor.067cb532.js"><link rel="prefetch" href="/assets/js/layout-components/Theme/ThemeOptions.f687c56d.js"><link rel="prefetch" href="/assets/js/layout-icons/ArticleIcon.c647f97f.js"><link rel="prefetch" href="/assets/js/layout-icons/AutoIcon.a50e7a56.js"><link rel="prefetch" href="/assets/js/layout-icons/BookIcon.4ff51083.js"><link rel="prefetch" href="/assets/js/layout-icons/DarkIcon.d3bb810a.js"><link rel="prefetch" href="/assets/js/layout-icons/EditIcon.1e221694.js"><link rel="prefetch" href="/assets/js/layout-icons/EmptyIcon.0f80ad02.js"><link rel="prefetch" href="/assets/js/layout-icons/I18nIcon.9ffb54ee.js"><link rel="prefetch" href="/assets/js/layout-icons/LightIcon.28c71f8e.js"><link rel="prefetch" href="/assets/js/layout-icons/LinkIcon.624c2eaf.js"><link rel="prefetch" href="/assets/js/layout-icons/LockIcon.72e1b7b2.js"><link rel="prefetch" href="/assets/js/layout-icons/NextIcon.50ae0931.js"><link rel="prefetch" href="/assets/js/layout-icons/Page404Icon.4bad371e.js"><link rel="prefetch" href="/assets/js/layout-icons/PresentationIcon.7b08ec86.js"><link rel="prefetch" href="/assets/js/layout-icons/PrevIcon.fadb85cd.js"><link rel="prefetch" href="/assets/js/layout-icons/ProjectIcon.055198e4.js"><link rel="prefetch" href="/assets/js/layout-icons/StickyIcon.7d31699b.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Baidu.c14dfe7d.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Bitbucket.c495dbb8.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Dingding.896c0555.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Discord.755e6e78.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Dribbble.03eebe8d.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Email.c0206ca0.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Evernote.473017c2.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Facebook.ce481070.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Flipboard.7aae0a58.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Gitee.d681c87c.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Github.b68020ec.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Gitlab.b838b182.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Gmail.2e834b78.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Instagram.55e1b282.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Lines.bbe38f35.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Linkedin.4775e6d7.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Pinterest.27381bc4.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Pocket.098f80b7.js"><link rel="prefetch" href="/assets/js/layout-icons/media/QQ.fbb2c44b.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Qzone.caa0f039.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Reddit.da884cd0.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Rss.39b20e2d.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Steam.ccd31ee6.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Twitter.40858c98.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Wechat.b53d8ab2.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Weibo.7e88aa3f.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Whatsapp.f178cacb.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Youtube.21719073.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Zhihu.5d28012a.js"><link rel="prefetch" href="/assets/js/page--6f95f1c7.cb0629d1.js"><link rel="prefetch" href="/assets/js/page-20200925.c414f240.js"><link rel="prefetch" href="/assets/js/page-20201015.d64d9bc5.js"><link rel="prefetch" href="/assets/js/page-20201102.f0c4f174.js"><link rel="prefetch" href="/assets/js/page-20201125.22a96004.js"><link rel="prefetch" href="/assets/js/page-20201207.da761711.js"><link rel="prefetch" href="/assets/js/page-20201218.d9c42c6e.js"><link rel="prefetch" href="/assets/js/page-20210122.c758ff60.js"><link rel="prefetch" href="/assets/js/page-20210220.f33d5cdb.js"><link rel="prefetch" href="/assets/js/page-20210409.24bb635f.js"><link rel="prefetch" href="/assets/js/page-20210620.23bc3957.js"><link rel="prefetch" href="/assets/js/page-20210829.e21610ba.js"><link rel="prefetch" href="/assets/js/page-20220614.fed8cdfe.js"><link rel="prefetch" href="/assets/js/page-CSS.449ab100.js"><link rel="prefetch" href="/assets/js/page-CSS面试整理.5ddfa664.js"><link rel="prefetch" href="/assets/js/page-ES6对象面试题整理.a4193a05.js"><link rel="prefetch" href="/assets/js/page-H5中遇到的问题.5b2e89c6.js"><link rel="prefetch" href="/assets/js/page-HTML.d525a009.js"><link rel="prefetch" href="/assets/js/page-HTTP1x-HTTP2-HTTPS.fcfee315.js"><link rel="prefetch" href="/assets/js/page-HTTP常见的状态码以及对应的含义.189bcd57.js"><link rel="prefetch" href="/assets/js/page-Home.72228d9c.js"><link rel="prefetch" href="/assets/js/page-JSONWEBTOKEN.f9c6525b.js"><link rel="prefetch" href="/assets/js/page-Module.3c6a67c0.js"><link rel="prefetch" href="/assets/js/page-PC桌面开发.92d8e6dc.js"><link rel="prefetch" href="/assets/js/page-Promise.d28ddcc1.js"><link rel="prefetch" href="/assets/js/page-ReactNatice.0136a177.js"><link rel="prefetch" href="/assets/js/page-Set-Map.00213e1b.js"><link rel="prefetch" href="/assets/js/page-TCP的三次握手四次挥手的相关知识.017982cd.js"><link rel="prefetch" href="/assets/js/page-class.84e48d72.js"><link rel="prefetch" href="/assets/js/page-css中的问题.66fb89c7.js"><link rel="prefetch" href="/assets/js/page-dev-server.ac51207a.js"><link rel="prefetch" href="/assets/js/page-eslint.89f916ea.js"><link rel="prefetch" href="/assets/js/page-git基本操作.85c2d29d.js"><link rel="prefetch" href="/assets/js/page-git提交规范.1ca4ac49.js"><link rel="prefetch" href="/assets/js/page-html中的问题.b2c81c6f.js"><link rel="prefetch" href="/assets/js/page-html面试整理.0b85c07c.js"><link rel="prefetch" href="/assets/js/page-js中的问题.c668f66d.js"><link rel="prefetch" href="/assets/js/page-js工具方法.f4c3dfaf.js"><link rel="prefetch" href="/assets/js/page-js整理.5f7fff32.js"><link rel="prefetch" href="/assets/js/page-js的数据类型及其检测.6edfc57c.js"><link rel="prefetch" href="/assets/js/page-js面试整理.1478fdcb.js"><link rel="prefetch" href="/assets/js/page-loader.ef227444.js"><link rel="prefetch" href="/assets/js/page-method.9efbb891.js"><link rel="prefetch" href="/assets/js/page-plop.a88fb1c4.js"><link rel="prefetch" href="/assets/js/page-polyfill.4cfcc859.js"><link rel="prefetch" href="/assets/js/page-rollup.acb78c24.js"><link rel="prefetch" href="/assets/js/page-vim基本操作.a0dbc963.js"><link rel="prefetch" href="/assets/js/page-vite.2789a38a.js"><link rel="prefetch" href="/assets/js/page-vscode.3f003b71.js"><link rel="prefetch" href="/assets/js/page-vue项目webpack升级笔记.e1d53802.js"><link rel="prefetch" href="/assets/js/page-webpack.4df47041.js"><link rel="prefetch" href="/assets/js/page-主页.21704547.js"><link rel="prefetch" href="/assets/js/page-事件循环（EventLoop）.11f26e13.js"><link rel="prefetch" href="/assets/js/page-写在前.fb243754.js"><link rel="prefetch" href="/assets/js/page-变量（var、let、const）.0268ab37.js"><link rel="prefetch" href="/assets/js/page-基本算法.885a7418.js"><link rel="prefetch" href="/assets/js/page-基础信息.9915d89c.js"><link rel="prefetch" href="/assets/js/page-多个请求如何书写.46b16477.js"><link rel="prefetch" href="/assets/js/page-字节面试准备.ab66eb6f.js"><link rel="prefetch" href="/assets/js/page-对象（Object）.e3358c40.js"><link rel="prefetch" href="/assets/js/page-小程序.f623e56c.js"><link rel="prefetch" href="/assets/js/page-小程序的相关知识点.542964fb.js"><link rel="prefetch" href="/assets/js/page-尾调用.0ad8ec5e.js"><link rel="prefetch" href="/assets/js/page-工具函数.12fe3f3d.js"><link rel="prefetch" href="/assets/js/page-常见案例.175ccdbc.js"><link rel="prefetch" href="/assets/js/page-常见的代码问题.1b641ba6.js"><link rel="prefetch" href="/assets/js/page-微前端.5c95579c.js"><link rel="prefetch" href="/assets/js/page-数据结构-链表.33a0309d.js"><link rel="prefetch" href="/assets/js/page-数组(Array).e7e3d9bb.js"><link rel="prefetch" href="/assets/js/page-正则.27d7c1e9.js"><link rel="prefetch" href="/assets/js/page-注释.60e7ad9e.js"><link rel="prefetch" href="/assets/js/page-浏览器相关.d8f2250f.js"><link rel="prefetch" href="/assets/js/page-算法.e4c27dc3.js"><link rel="prefetch" href="/assets/js/page-箭头函数.4215f043.js"><link rel="prefetch" href="/assets/js/page-脚手架开发.04dc394a.js"><link rel="prefetch" href="/assets/js/page-解构.3fa805e7.js"><link rel="prefetch" href="/assets/js/page-面向对象.8aa0bf5f.js"><link rel="prefetch" href="/assets/js/page-面试.055e9814.js"><link rel="prefetch" href="/assets/js/page-面试整理.46f3f237.js"><link rel="prefetch" href="/assets/js/page-面试题.a22ec9fb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d217d160.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.6e0aadc3.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.91481c77.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Common~layout-components/Page.af6a19fa.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/AlgoliaSearch/Full.54e594e4.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Blog/ArticleList~layout-components/Blog/BlogHome~layout-components/Blog/BlogPage.d8a82ccb.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Navbar/Navbar.6c992749.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Page.686592e5.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Sidebar/Sidebar.57158bcc.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.6a23f182.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a8743741.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">salvatore's blog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-homefill"></i>
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-wode"></i>
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Posts" class="dropdown-title"><span class="title"><i class="iconfont icon-zhishidian"></i>
        Posts
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/posts/HTML/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><a href="/posts/CSS/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><a href="/posts/JavaScript/" class="nav-link"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><a href="/posts/Vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><a href="/posts/TypeScript/" class="nav-link"><i class="iconfont icon-typescript"></i>
  TypeScript
</a></li><li class="dropdown-item"><a href="/posts/nodeJS/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><i class="iconfont icon-node"></i>
  nodeJS
</a></li><li class="dropdown-item"><a href="/posts/快应用和微前端/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  快应用和微前端
</a></li><li class="dropdown-item"><a href="/posts/工程化/" class="nav-link"><i class="iconfont icon-webpack"></i>
  工程化
</a></li><li class="dropdown-item"><a href="/posts/tool/" class="nav-link"><i class="iconfont icon-gongju"></i>
  前端工具
</a></li><li class="dropdown-item"><a href="/posts/internet/" class="nav-link"><i class="iconfont icon-wangluo"></i>
  网络相关
</a></li><li class="dropdown-item"><a href="/posts/question/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  常见问题
</a></li><li class="dropdown-item"><a href="/posts/算法扫盲/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  算法扫盲
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="interview" class="dropdown-title"><span class="title"><i class="iconfont icon-16"></i>
        interview
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/interview/html/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><a href="/interview/css/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><a href="/interview/javascript/" class="nav-link"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><a href="/interview/vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><a href="/posts/mp/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  小程序
</a></li><li class="dropdown-item"><a href="/posts/项目/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  项目相关
</a></li></ul></div></div><div class="nav-item"><a href="/essay/" class="nav-link"><i class="iconfont icon-16"></i>
  Essay
</a></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-homefill"></i>
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-wode"></i>
  About
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Posts" class="dropdown-title"><span class="title"><i class="iconfont icon-zhishidian"></i>
      Posts
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/posts/HTML/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/posts/CSS/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/posts/JavaScript/" class="nav-link"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/posts/Vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/posts/TypeScript/" class="nav-link"><i class="iconfont icon-typescript"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/posts/nodeJS/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><i class="iconfont icon-node"></i>
  nodeJS
</a></li><li class="dropdown-item"><!----> <a href="/posts/快应用和微前端/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  快应用和微前端
</a></li><li class="dropdown-item"><!----> <a href="/posts/工程化/" class="nav-link"><i class="iconfont icon-webpack"></i>
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/posts/tool/" class="nav-link"><i class="iconfont icon-gongju"></i>
  前端工具
</a></li><li class="dropdown-item"><!----> <a href="/posts/internet/" class="nav-link"><i class="iconfont icon-wangluo"></i>
  网络相关
</a></li><li class="dropdown-item"><!----> <a href="/posts/question/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/posts/算法扫盲/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  算法扫盲
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="interview" class="dropdown-title"><span class="title"><i class="iconfont icon-16"></i>
      interview
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/html/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/interview/css/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/interview/javascript/" class="nav-link"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/interview/vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/posts/mp/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/posts/项目/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  项目相关
</a></li></ul></div></div><div class="nav-item"><a href="/essay/" class="nav-link"><i class="iconfont icon-16"></i>
  Essay
</a></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-html5"></i> <span class="title">HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-css"></i> <span class="title">CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-javascript"></i> <span class="title">JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-vue"></i> <span class="title">Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-typescript"></i> <span class="title">TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><i class="iconfont icon-node"></i> <span class="title">nodeJS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/posts/nodeJS/" aria-current="page" class="active sidebar-link">基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/nodeJS/#npm" class="sidebar-link">npm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_1-基本的快捷方式" class="sidebar-link heading3">1.基本的快捷方式</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_2-设置默认的-npm-init-有哪些属性" class="sidebar-link heading3">2. 设置默认的 npm init 有哪些属性</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_3-让脚本跨平台兼容" class="sidebar-link heading3">3. 让脚本跨平台兼容</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_4-并行运行脚本" class="sidebar-link heading3">4. 并行运行脚本</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_5-在不同的目录中运行脚本" class="sidebar-link heading3">5. 在不同的目录中运行脚本</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_6-延迟运行脚本知道端口准备就绪" class="sidebar-link heading3">6. 延迟运行脚本知道端口准备就绪</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_7-列出并选择可用脚本" class="sidebar-link heading3">7. 列出并选择可用脚本</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_8-关于-package-json-中的-version" class="sidebar-link heading3">8. 关于 package.json 中的 version</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_9-命令行直接编辑-package-json" class="sidebar-link heading3">9. 命令行直接编辑 package.json</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_10-自动设置和打开-github-库" class="sidebar-link heading3">10 自动设置和打开 github 库</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_11-自定义npm-init脚本" class="sidebar-link heading3">11. 自定义npm init脚本</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_12-使用自定义-npm-init-脚本将第一个-commit-提交到-github" class="sidebar-link heading3">12. 使用自定义 npm init 脚本将第一个 commit 提交到 github</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#_13-mac上面npm权限的问题" class="sidebar-link heading3">13. mac上面npm权限的问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#视频学习关键点记录" class="sidebar-link">视频学习关键点记录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/nodeJS/#http" class="sidebar-link heading3">http</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#fs" class="sidebar-link heading3">fs</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#get-请求的数据处理" class="sidebar-link heading3">get 请求的数据处理</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#post-请求的数据处理" class="sidebar-link heading3">post 请求的数据处理</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#文件上传的数据处理" class="sidebar-link heading3">文件上传的数据处理</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#模块化" class="sidebar-link heading3">模块化</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#express-框架" class="sidebar-link heading3">express 框架</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#中间键" class="sidebar-link heading3">中间键</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#cookie、session-以及加签名的问题的问题" class="sidebar-link heading3">cookie、session 以及加签名的问题的问题</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#route-路由的问题" class="sidebar-link heading3">route 路由的问题</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#sql-的问题" class="sidebar-link heading3">SQL 的问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#mysql" class="sidebar-link">mySql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/nodeJS/#mysql-关系性数据库" class="sidebar-link heading3">MySql 关系性数据库</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#基本数据库知识" class="sidebar-link heading3">基本数据库知识</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#有哪些数据库管理系统" class="sidebar-link heading3">有哪些数据库管理系统</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#储存引擎" class="sidebar-link heading3">储存引擎</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#数据库设计三范式" class="sidebar-link heading3">数据库设计三范式</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#外连接查询" class="sidebar-link heading3">外连接查询</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#增删改" class="sidebar-link heading3">增删改</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#union-可以将查询结果集相加" class="sidebar-link heading3">union(可以将查询结果集相加)</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#约束-constraint" class="sidebar-link heading3">约束（constraint）</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#子查询" class="sidebar-link heading3">子查询</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#索引" class="sidebar-link heading3">索引</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#事务" class="sidebar-link heading3">事务</a></li></ul></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#网站开发" class="sidebar-link">网站开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/nodeJS/#准备工作" class="sidebar-link heading3">准备工作</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#安装" class="sidebar-link heading3">安装</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#上传本地文件到远端" class="sidebar-link heading3">上传本地文件到远端</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#启动项目" class="sidebar-link heading3">启动项目</a></li><li class="sidebar-sub-header"><a href="/posts/nodeJS/#nginx-配置域名" class="sidebar-link heading3">nginx 配置域名</a></li></ul></li></ul></li><li><a href="/posts/nodeJS/cli/" class="sidebar-link">脚手架开发</a></li><li><a href="/posts/nodeJS/%E9%9D%A2%E8%AF%95/" class="sidebar-link">面试</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-xiaochengxu"></i> <span class="title">快应用和微前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-webpack"></i> <span class="title">工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-gongju"></i> <span class="title">前端工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-wangluo"></i> <span class="title">网络相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-changjianwentixiangguanwenti2"></i> <span class="title">常见问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-changjianwentixiangguanwenti2"></i> <span class="title">算法扫盲</span> <span class="arrow right"></span></p> <!----></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">基础知识</span></h1> <div class="page-info"><!----> <!----><span aria-label="Page views🔢" data-balloon-pos="down" defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/posts/nodeJS/" data-flag-title="基础知识" class="leancloud_visitors waline-visitor-count"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date📅" data-balloon-pos="down" defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2020-9-25</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 53 min</span> <meta property="timeRequired" content="PT53M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/posts/nodeJS/#npm" class="anchor-link heading2"><div>npm</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_1-基本的快捷方式" class="anchor-link heading3"><div>1.基本的快捷方式</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_2-设置默认的-npm-init-有哪些属性" class="anchor-link heading3"><div>2. 设置默认的 npm init 有哪些属性</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_3-让脚本跨平台兼容" class="anchor-link heading3"><div>3. 让脚本跨平台兼容</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_4-并行运行脚本" class="anchor-link heading3"><div>4. 并行运行脚本</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_5-在不同的目录中运行脚本" class="anchor-link heading3"><div>5. 在不同的目录中运行脚本</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_6-延迟运行脚本知道端口准备就绪" class="anchor-link heading3"><div>6. 延迟运行脚本知道端口准备就绪</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_7-列出并选择可用脚本" class="anchor-link heading3"><div>7. 列出并选择可用脚本</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_8-关于-package-json-中的-version" class="anchor-link heading3"><div>8. 关于 package.json 中的 version</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_9-命令行直接编辑-package-json" class="anchor-link heading3"><div>9. 命令行直接编辑 package.json</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_10-自动设置和打开-github-库" class="anchor-link heading3"><div>10 自动设置和打开 github 库</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_11-自定义npm-init脚本" class="anchor-link heading3"><div>11. 自定义npm init脚本</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_12-使用自定义-npm-init-脚本将第一个-commit-提交到-github" class="anchor-link heading3"><div>12. 使用自定义 npm init 脚本将第一个 commit 提交到 github</div></a></li><li class="anchor"><a href="/posts/nodeJS/#_13-mac上面npm权限的问题" class="anchor-link heading3"><div>13. mac上面npm权限的问题</div></a></li><li class="anchor"><a href="/posts/nodeJS/#视频学习关键点记录" class="anchor-link heading2"><div>视频学习关键点记录</div></a></li><li class="anchor"><a href="/posts/nodeJS/#http" class="anchor-link heading3"><div>http</div></a></li><li class="anchor"><a href="/posts/nodeJS/#fs" class="anchor-link heading3"><div>fs</div></a></li><li class="anchor"><a href="/posts/nodeJS/#get-请求的数据处理" class="anchor-link heading3"><div>get 请求的数据处理</div></a></li><li class="anchor"><a href="/posts/nodeJS/#post-请求的数据处理" class="anchor-link heading3"><div>post 请求的数据处理</div></a></li><li class="anchor"><a href="/posts/nodeJS/#文件上传的数据处理" class="anchor-link heading3"><div>文件上传的数据处理</div></a></li><li class="anchor"><a href="/posts/nodeJS/#模块化" class="anchor-link heading3"><div>模块化</div></a></li><li class="anchor"><a href="/posts/nodeJS/#express-框架" class="anchor-link heading3"><div>express 框架</div></a></li><li class="anchor"><a href="/posts/nodeJS/#中间键" class="anchor-link heading3"><div>中间键</div></a></li><li class="anchor"><a href="/posts/nodeJS/#cookie、session-以及加签名的问题的问题" class="anchor-link heading3"><div>cookie、session 以及加签名的问题的问题</div></a></li><li class="anchor"><a href="/posts/nodeJS/#route-路由的问题" class="anchor-link heading3"><div>route 路由的问题</div></a></li><li class="anchor"><a href="/posts/nodeJS/#sql-的问题" class="anchor-link heading3"><div>SQL 的问题</div></a></li><li class="anchor"><a href="/posts/nodeJS/#mysql" class="anchor-link heading2"><div>mySql</div></a></li><li class="anchor"><a href="/posts/nodeJS/#mysql-关系性数据库" class="anchor-link heading3"><div>MySql 关系性数据库</div></a></li><li class="anchor"><a href="/posts/nodeJS/#基本数据库知识" class="anchor-link heading3"><div>基本数据库知识</div></a></li><li class="anchor"><a href="/posts/nodeJS/#有哪些数据库管理系统" class="anchor-link heading3"><div>有哪些数据库管理系统</div></a></li><li class="anchor"><a href="/posts/nodeJS/#储存引擎" class="anchor-link heading3"><div>储存引擎</div></a></li><li class="anchor"><a href="/posts/nodeJS/#数据库设计三范式" class="anchor-link heading3"><div>数据库设计三范式</div></a></li><li class="anchor"><a href="/posts/nodeJS/#外连接查询" class="anchor-link heading3"><div>外连接查询</div></a></li><li class="anchor"><a href="/posts/nodeJS/#增删改" class="anchor-link heading3"><div>增删改</div></a></li><li class="anchor"><a href="/posts/nodeJS/#union-可以将查询结果集相加" class="anchor-link heading3"><div>union(可以将查询结果集相加)</div></a></li><li class="anchor"><a href="/posts/nodeJS/#约束-constraint" class="anchor-link heading3"><div>约束（constraint）</div></a></li><li class="anchor"><a href="/posts/nodeJS/#子查询" class="anchor-link heading3"><div>子查询</div></a></li><li class="anchor"><a href="/posts/nodeJS/#索引" class="anchor-link heading3"><div>索引</div></a></li><li class="anchor"><a href="/posts/nodeJS/#事务" class="anchor-link heading3"><div>事务</div></a></li><li class="anchor"><a href="/posts/nodeJS/#网站开发" class="anchor-link heading2"><div>网站开发</div></a></li><li class="anchor"><a href="/posts/nodeJS/#准备工作" class="anchor-link heading3"><div>准备工作</div></a></li><li class="anchor"><a href="/posts/nodeJS/#安装" class="anchor-link heading3"><div>安装</div></a></li><li class="anchor"><a href="/posts/nodeJS/#上传本地文件到远端" class="anchor-link heading3"><div>上传本地文件到远端</div></a></li><li class="anchor"><a href="/posts/nodeJS/#启动项目" class="anchor-link heading3"><div>启动项目</div></a></li><li class="anchor"><a href="/posts/nodeJS/#nginx-配置域名" class="anchor-link heading3"><div>nginx 配置域名</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h1> <h2 id="npm"><a href="#npm" class="header-anchor">#</a> npm</h2> <p>相信现在的前端同学每天都在接触 npm 这个命名吧，也经常在使用 npm 去构建项目，安装包，但其实 npm 不仅仅知识初始化项目的安装包</p> <h3 id="_1-基本的快捷方式"><a href="#_1-基本的快捷方式" class="header-anchor">#</a> 1.基本的快捷方式</h3> <h4 id="特别常见的一些快捷键"><a href="#特别常见的一些快捷键" class="header-anchor">#</a> 特别常见的一些快捷键</h4> <ul><li>安装 -- <code>npm install</code> ---&gt; <code>npm i</code></li> <li>卸载 -- <code>npm uninstall</code> -- <code>npm un</code></li> <li>测试 -- <code>npm test</code> ---&gt; <code>npm t</code></li> <li>帮助 -- <code>npm --help</code> ---&gt; <code>npm -h</code></li> <li>全局标志 <code>--global</code> ---&gt; <code>-g</code></li> <li>开发依赖 <code>-save-dev</code> ---&gt; <code>-D</code></li> <li>生产依赖 <code>--save</code> ---&gt; <code>-S</code></li> <li><code>npm init</code> 默认值 -- <code>npm init --yes</code> || <code>npm init --force</code> ---&gt; <code>npm init -y</code> || <code>npm init -f</code></li></ul> <p>解释一下</p> <ul><li><code>npm i &lt;name&gt;</code> 表示安装一个包但是不保存他 &lt;======&gt; <code>npm i &lt;name&gt; --no-save</code></li></ul> <h4 id="不是很常见的快捷键"><a href="#不是很常见的快捷键" class="header-anchor">#</a> 不是很常见的快捷键</h4> <ul><li>将安装包的信息加到<code>package.json</code>中的<code>optionalDependencies</code>(可选阶段的依赖)简写<code>-O</code></li> <li>精准安装到制定版本 简写<code>-O</code></li></ul> <h4 id="根的快捷方式"><a href="#根的快捷方式" class="header-anchor">#</a> 根的快捷方式</h4> <p><code>.</code>符号通常便是根目录，npm 术语中的应用程序的入口，也就是<code>package.json</code>中所指定的值</p> <h3 id="_2-设置默认的-npm-init-有哪些属性"><a href="#_2-设置默认的-npm-init-有哪些属性" class="header-anchor">#</a> 2. 设置默认的 npm init 有哪些属性</h3> <p>当运行 npm init 来创建一个新项目时候，你会发现会输入比较多的配置信息，如果你需要的项目比较多的话，配置 npm init 的默认配置信息是有必要的，直接上方法吧</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm config set init.author.name &quot;xuanliao&quot;
npm config set init.author.email &quot;1066788870@qq.com&quot;
npm config set init.author.url &quot;https://github.com/&quot;
npm config set init.license &quot;MIT&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>检查是否将这些属性设置成功，可以使用命令 npm config edit 来查看，也可以找到配置文件来查看和修改，如果是想编辑全局的 config 文件可以直接 npm config edit -g 来查看和编辑</p> <h3 id="_3-让脚本跨平台兼容"><a href="#_3-让脚本跨平台兼容" class="header-anchor">#</a> 3. 让脚本跨平台兼容</h3> <p>任何命令行上的代码，都有兼容性的风险，特别是在<code>windows</code>和<code>unix</code>系统（包括<code>Mac</code>和<code>Linux</code>）之间，如果是当人开发，单台机器那肯定是没有问题，当是大多数时候都是多个人一个项目组联合开发，就必须要做一个项目兼容的问题了，不过好在 nodeJS 中有模块还是很好用的---<code>cross-env</code>，安装不用多说<code>npm i -D cross-env</code>使用如下</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://www.npmjs.com/package/cross-env" target="_blank" rel="noopener noreferrer">cross-env<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>实现跨平台兼容性的最无缝的方法</p> <p><a href="https://www.npmjs.com/package/rimraf" target="_blank" rel="noopener noreferrer">rimraf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以安装在全球运行跨平台脚本</p> <p><a href="https://www.npmjs.com/package/shelljs" target="_blank" rel="noopener noreferrer">ShellJs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是 Unix shell 命令在 Node.js API 上的可移植实现。</p> <h3 id="_4-并行运行脚本"><a href="#_4-并行运行脚本" class="header-anchor">#</a> 4. 并行运行脚本</h3> <p>可以使用<code>&amp;&amp;</code>来依次运行两个和多个脚本,但运行起来还是用一定的时间差的，如果说我们想要去并行这其中的几个脚本呢，有点同步异步的意思哈，目前有两种比较流行的解决方案，<code>concurrent</code>和<code>npm-run-all</code></p> <p>首先安装是免不了的 <code>npm i concurrently -D</code>
添加脚本</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;concurrently \&quot;node a2\&quot; \&quot;node a3\&quot; \&quot;node a1\&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意写法</p> <h3 id="_5-在不同的目录中运行脚本"><a href="#_5-在不同的目录中运行脚本" class="header-anchor">#</a> 5. 在不同的目录中运行脚本</h3> <p>如果在不同文件夹下面需要同事运行脚本，我们可以使用 cd 来完成</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;concurrently \&quot;node a2\&quot; \&quot;cd a &amp;&amp; node a3\&quot; \&quot;cd a &amp;&amp; node a1\&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这样完成是可以，但就是有点 low，如何让其优雅起来呢？</p> <p>我们可以使用<code>--prefix</code>来指定路径</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;concurrently \&quot;node a2\&quot; \&quot;npm start --prefix a\&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><font color="red">注意这种写法必须要有 package.json</font></p> <h3 id="_6-延迟运行脚本知道端口准备就绪"><a href="#_6-延迟运行脚本知道端口准备就绪" class="header-anchor">#</a> 6. 延迟运行脚本知道端口准备就绪</h3> <p>通常，在后端使用 nodeJS 书写的时候，坑定是希望同事启动服务端和客户端的，<code>wait-on</code>节点模块提供了一种方便的方法来确保旨在某些进程就绪时候发生，有一种简单的理解，在 nodeJS 中的项目起来之后，再起前端的项目</p> <p>todo:nodeJS 的东西我自己本身还没有系统的学习过，等我用到前后端项目的会，会考虑使用<code>wait-on</code>的</p> <h3 id="_7-列出并选择可用脚本"><a href="#_7-列出并选择可用脚本" class="header-anchor">#</a> 7. 列出并选择可用脚本</h3> <p>在实际开发过程中我们常常需要起多个项目，但又不想开多个 vscode 窗口，起项目可以使用 concurrently，或者通过 ntl 来查看并且运行
<code>npm i -g ntl</code>
跳到目录相面直接 ntl 就可以看到<code>package.json</code>中的<code>scripts</code>有哪些并且可以选择运行这些脚本，这样是不是方便了很多呢</p> <h3 id="_8-关于-package-json-中的-version"><a href="#_8-关于-package-json-中的-version" class="header-anchor">#</a> 8. 关于 package.json 中的 version</h3> <p>我们在研发过程中肯定是需要版本迭代的，下面的两个命令可以帮助我们</p> <p><code>npm version patch</code> 在最后一位<code>+1</code></p> <p><code>npm version major</code> 在第一位<code>+1</code></p> <h3 id="_9-命令行直接编辑-package-json"><a href="#_9-命令行直接编辑-package-json" class="header-anchor">#</a> 9. 命令行直接编辑 package.json</h3> <p><code>npm i -g json</code></p> <p><code>json -I -f package.json -e 'this.scripts.a=\&quot;node a1\&quot;'</code></p> <p>参数解释
<code>-I</code>就地编辑
<code>-f</code>强制修改</p> <p>这样可以直接在命令行编辑 package.json 里面的所有信息</p> <h3 id="_10-自动设置和打开-github-库"><a href="#_10-自动设置和打开-github-库" class="header-anchor">#</a> 10 自动设置和打开 github 库</h3> <p>如果<code>package.json</code>文件中有<code>repository</code>，则可以通过输入 <code>npm repo</code>在默认浏览器中打开它。</p> <p>如果你的项目已经连接到远程存储库，并且已经在命令行上安装了 git，那你可以使用这个命令找到你的连接存储库</p> <p><code>git config --get remote.origin.url</code></p> <p>更好的解决方案是可以使用如下脚本</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>json -I -f package.json -e &quot;this.repository=\&quot;$(git config --get remote.origin.url)\&quot;&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_11-自定义npm-init脚本"><a href="#_11-自定义npm-init脚本" class="header-anchor">#</a> 11. 自定义<code>npm init</code>脚本</h3> <ol><li>找到 npm 所在的目录建立一个<code>.npm-init.js</code>文件</li></ol> <p>确保<code>.npm-init.js</code>被指向正确</p> <ol start="2"><li><p><code>npm config set init -module ~\.npm-init.js</code></p></li> <li><p>编写<code>.npm-init.js</code></p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;package name&quot;</span><span class="token punctuation">,</span> basename <span class="token operator">||</span> <span class="token keyword">package</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;version&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">decription</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;这是npm自定义的文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;entry point&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">repository</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;git repository&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;https://github.com/0227vera&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">keywords</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xuanliao &lt;1066788870@qq.com&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">license</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;license&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>之后的这个文件可以修改和删除</p> <h3 id="_12-使用自定义-npm-init-脚本将第一个-commit-提交到-github"><a href="#_12-使用自定义-npm-init-脚本将第一个-commit-提交到-github" class="header-anchor">#</a> 12. 使用自定义 npm init 脚本将第一个 commit 提交到 github</h3> <p>为了将 git 命名合并到<code>.npm-init.js</code>文件中，需要一种方法来控制命令行，可以使用<code>child_process</code>模块，在文件中引入它，但是我们只需要<code>execSync</code>函数</p> <p><code>const {execSync} = require('child_process')</code></p> <p>修改刚才的<code>.npm-init.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> execSync <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;child_process&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">run</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;--------&gt;&quot;</span><span class="token punctuation">,</span> <span class="token function">execSync</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;package name&quot;</span><span class="token punctuation">,</span> basename <span class="token operator">||</span> <span class="token keyword">package</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;version&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">decription</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;这是npm自定义的文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;entry point&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">keywords</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xuanliao &lt;1066788870@qq.com&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">license</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;license&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">repository</span><span class="token operator">:</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;git repository url&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;git init&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;git add .&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">run</span><span class="token punctuation">(</span><span class="token string">'git commit -m &quot;first commit&quot;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">run</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">git remote add origin </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&quot;git push -u origin master&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>这个还是比较秀的，可以反杀一波</p> <h3 id="_13-mac上面npm权限的问题"><a href="#_13-mac上面npm权限的问题" class="header-anchor">#</a> 13. mac上面npm权限的问题</h3> <p><code>sudo chown -R $USER /usr/local</code></p> <h2 id="视频学习关键点记录"><a href="#视频学习关键点记录" class="header-anchor">#</a> 视频学习关键点记录</h2> <p>这一部分的学习，只要是想先学习一些基础的东西，能够简单的完成一个网站</p> <h3 id="http"><a href="#http" class="header-anchor">#</a> http</h3> <p>使用 http 起一个服务</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="fs"><a href="#fs" class="header-anchor">#</a> fs</h3> <p>全称：File System</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'地址'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Error</span> err<span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'地址'</span><span class="token punctuation">,</span> <span class="token string">'内容'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="get-请求的数据处理"><a href="#get-请求的数据处理" class="header-anchor">#</a> get 请求的数据处理</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> urlLib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> urlLib<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> obj<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token constant">GET</span> <span class="token operator">=</span> obj<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="post-请求的数据处理"><a href="#post-请求的数据处理" class="header-anchor">#</a> post 请求的数据处理</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;querystring&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    str <span class="token operator">+=</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">POST</span> <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="文件上传的数据处理"><a href="#文件上传的数据处理" class="header-anchor">#</a> 文件上传的数据处理</h3> <p>multer：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> multer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;multer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objMulter <span class="token operator">=</span> <span class="token function">multer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token string">&quot;./www/upload/&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token comment">// 文件大小</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>objMulter<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以接收任何类型，任何数量的</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 然后用fs.rename()重命名把文件类型加上</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h3> <ol><li>系统模块：
http、
querystring、
url、
Crypo（加密）、
Events（事件）、
OS（操作系统的相关信息）、
Path（路径相关）、
Net（网络操作）、
Stream（流操作）、
Timers（定时器）、
ZLIB（压缩）
等</li> <li>自己写模块：（CMD 规范）</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 抽取的模块 module.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;salvatore&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">changeName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> changeName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newname</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> newname<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 使用模块</span>
<span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./module.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="express-框架"><a href="#express-框架" class="header-anchor">#</a> express 框架</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// post数据使用，中间件</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;body-parser&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 只能解决数据类的东西</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 扩展,true---&gt;启用扩展模式</span>
    <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token comment">// 限制2M，默认是100K</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;路径&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// use = post or get</span>

  <span class="token comment">// get数据</span>
  <span class="token keyword">const</span> get <span class="token operator">=</span> req<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
  <span class="token comment">// post数据 body-parser</span>
  <span class="token keyword">const</span> post <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  req<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;和上面相同的路劲&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;和上面的形成链式操作&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="中间键"><a href="#中间键" class="header-anchor">#</a> 中间键</h3> <p>express-static</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token keyword">static</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express-static&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">static</span><span class="token punctuation">(</span><span class="token string">&quot;./www&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="cookie、session-以及加签名的问题的问题"><a href="#cookie、session-以及加签名的问题的问题" class="header-anchor">#</a> cookie、session 以及加签名的问题的问题</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> secret <span class="token operator">=</span> <span class="token string">&quot;aghahgaljdsfhajgha&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cookieParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;cookie-parser&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cookieSession <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;cookie-session&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;qqq&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;www&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;eee&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// session的密钥</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">cookieSession</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    keys<span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;sess&quot;</span><span class="token punctuation">,</span> <span class="token comment">// session的名字</span>
    <span class="token literal-property property">maxAge</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 过期时间</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 放在cookie后面</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;路径&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// cookie的发送</span>
  <span class="token comment">// req.secret = secret // cookie的一个密钥</span>
  res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/aaa&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxAge</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// ms为单位</span>
    <span class="token literal-property property">signed</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 添加签名</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// cookie的读取</span>
  <span class="token comment">// 签名的cookies</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;签名cookies---&gt;&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>signedCookies<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 没有签名的cookies</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;没有签名cookies---&gt;&quot;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>cookies<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以访问底下的，不能向上访问</span>

  <span class="token comment">// 删除cookie，某一条cookie</span>
  res<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// session 的读取</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 删除session</span>
  <span class="token keyword">delete</span> req<span class="token punctuation">.</span>session<span class="token punctuation">;</span> <span class="token comment">// delete删除的是服务器上面的东西</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="route-路由的问题"><a href="#route-路由的问题" class="header-anchor">#</a> route 路由的问题</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// server.js</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> userRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./userRouter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span> userRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// userRouter.js</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 做登陆的操作</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 做注册的操作</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> router<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="sql-的问题"><a href="#sql-的问题" class="header-anchor">#</a> SQL 的问题</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> db <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 连接</span>
  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">&quot;newtest&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// mysql.createPool() 连接池</span>
<span class="token comment">// 2，查询 (curd) 非常典型的异步操作，肯定会有回调函数</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM `user_table`;&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;---------&gt;&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="mysql"><a href="#mysql" class="header-anchor">#</a> mySql</h2> <h3 id="mysql-关系性数据库"><a href="#mysql-关系性数据库" class="header-anchor">#</a> MySql 关系性数据库</h3> <ul><li><p>这一步部分，因为之前没有做过数据相关的东西，所以得先花一段时间来把数据库的知识先好好补补</p></li> <li><p>什么是数据库？</p></li></ul> <ol><li>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库。每个数据库都有一个或多个不同的 API 用于创建，访问，管理，搜索和复制所保存的数据。我们也可以将数据存储在文件中，但是在文件中读写数据速度相对较慢。所以，现在我们使用关系型数据库管理系统（RDBMS）来存储和管理的大数据量。所谓的关系型数据库，是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。</li></ol> <ul><li>RDBMS 即关系数据库管理系统(Relational Database Management System)的特点：</li></ul> <ol><li>数据以表格的形式出现</li> <li>每行为各种记录名称</li> <li>每列为记录名称所对应的数据域</li> <li>许多的行和列组成一张表单</li> <li>若干的表单组成database</li></ol> <ul><li>RDBMS 术语</li></ul> <ol><li>数据库: 数据库是一些关联表的集合。</li> <li>数据表: 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li> <li>列: 一列(数据元素) 包含了相同的数据, 例如邮政编码的数据。</li> <li>行：一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li> <li>冗余：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</li> <li>主键：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li> <li>外键：外键用于关联两个表。</li> <li>复合键：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li> <li>索引：使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li> <li>参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li></ol> <ul><li>MySQL数据库</li></ul> <p>MySQL 是一个关系型数据库管理系统，由瑞典 MySQL AB 公司开发，目前属于 Oracle 公司。MySQL 是一种关联数据库管理系统，关联数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。</p> <ol><li>MySQL 是开源的，所以你不需要支付额外的费用。</li> <li>MySQL 支持大型的数据库。可以处理拥有上千万条记录的大型数据库。</li> <li>MySQL 使用标准的 SQL 数据语言形式。</li> <li>MySQL 可以运行于多个系统上，并且支持多种语言。这些编程语言包括 C、C++、Python、Java、Perl、PHP、Eiffel、Ruby 和 Tcl 等。</li> <li>MySQL 对PHP有很好的支持，PHP 是目前最流行的 Web 开发语言。</li> <li>MySQL 支持大型数据库，支持 5000 万条记录的数据仓库，32 位系统表文件最大可支持 4GB，64 位系统支持最大的表文件为8TB。</li> <li>MySQL 是可以定制的，采用了 GPL 协议，你可以修改源码来开发自己的 MySQL 系统。</li></ol> <h3 id="基本数据库知识"><a href="#基本数据库知识" class="header-anchor">#</a> 基本数据库知识</h3> <h4 id="单表问题"><a href="#单表问题" class="header-anchor">#</a> 单表问题</h4> <h4 id="_1-sql、db、dbms分别是什么-他们的关系是什么关系"><a href="#_1-sql、db、dbms分别是什么-他们的关系是什么关系" class="header-anchor">#</a> 1. SQL、DB、DBMS分别是什么，他们的关系是什么关系</h4> <ul><li><p>DB：DataBase（数据库，数据库实际上再硬盘上以文件的形式存在）</p></li> <li><p>DBMS：DataBase Management System （数据库管理系统，常见的有：MySQL、Oracle、DB2...）</p></li> <li><p>SQL：</p></li></ul> <ol><li>结构化查询语言，是一门标准通用的语言。标准的sql适合于所有的数据库产品</li> <li>SQL数据高级语言，只要能看懂英文单词的，写出来的sql语句，可以读懂什么意思</li> <li>SQL语句执行的时候，实际上内部也先进行了编译，然后再执行sql。（sql语句的编辑又DNMS完成）</li></ol> <ul><li>DBMS：负责执行sql语句，通过执行语句来操作DB当中的数据</li></ul> <blockquote><p>DBMS -(执行)--&gt; SQL -(操作)--&gt; DB</p></blockquote> <h4 id="_2-表"><a href="#_2-表" class="header-anchor">#</a> 2. 表</h4> <ul><li><p>表：table是数据库的基本组成单元，所有的数据都以表的形式组织，目的是可读性强</p></li> <li><p>一个表包含行和列：</p></li></ul> <ol><li>行：被称为数据/记录（data）</li> <li>列：被称为字段（column）</li></ol> <p>每一个字段应该包含的属性？字段名、数据类型、相关的约束条件</p> <h4 id="_3-学习mysql主要是学习通用的sql语句-那么sql语句包括增删改查-sql语句怎么分类呢"><a href="#_3-学习mysql主要是学习通用的sql语句-那么sql语句包括增删改查-sql语句怎么分类呢" class="header-anchor">#</a> 3. 学习MySQL主要是学习通用的SQL语句，那么SQL语句包括增删改查，SQL语句怎么分类呢？</h4> <ul><li>DQL （数据查询语句）：查询语句，凡是select语句都是DQL</li> <li>DML （数据操作语句）：insert、delete、update，对表当中的数据进行增删改</li> <li>DDL （数据定义语言）：create、drop、alter、对表结构的增删改</li> <li>TCL （事务控制语言）：commit提交事务、rollback回滚事务。（TCL中的T是transaction）</li> <li>DCL （数据控制语言）：grant授权，revoke撤销劝降等</li></ul> <h4 id="_4-导入数据-联系的过程中使用的都是导入的数据"><a href="#_4-导入数据-联系的过程中使用的都是导入的数据" class="header-anchor">#</a> 4. 导入数据（联系的过程中使用的都是导入的数据）</h4> <ol><li><p>登陆MySQL数据库系统</p></li> <li><p>查看有哪些数据库：show databases;（这个不是SQL语句，数据MySQL的命令）</p></li> <li><p>创建数据自己的数据库：create database salvatoredata;</p></li> <li><p>使用salvatoredata数据库：use salvatoredata;</p></li> <li><p>查看当前使用的数据库中有哪些表：show tables;</p></li> <li><p>初始化数据：source 文件路径</p></li></ol> <h4 id="_5-spl脚本"><a href="#_5-spl脚本" class="header-anchor">#</a> 5. spl脚本</h4> <p>文件以sql结尾，这样的文件被称为“sql脚本”，什么是sql脚本呢？</p> <p>但一个文件的扩展名是.sql，并且该文件编写了大量的sql语句，我们称这样的文件为sql脚本</p> <h4 id="_6-删除数据库-drop-database-salvatoredata"><a href="#_6-删除数据库-drop-database-salvatoredata" class="header-anchor">#</a> 6. 删除数据库：drop database salvatoredata</h4> <h4 id="_7-查看表结构-desc-表名"><a href="#_7-查看表结构-desc-表名" class="header-anchor">#</a> 7. 查看表结构：desc 表名</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; desc emp;
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| EMPNO    | int(4)      | NO   | PRI | NULL    |       |
| ENAME    | varchar(10) | YES  |     | NULL    |       |
| JOB      | varchar(9)  | YES  |     | NULL    |       |
| MGR      | int(4)      | YES  |     | NULL    |       |
| HIREDATE | date        | YES  |     | NULL    |       |
| SAL      | double(7,2) | YES  |     | NULL    |       |
| COMM     | double(7,2) | YES  |     | NULL    |       |
| DEPTNO   | int(2)      | YES  |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+

mysql&gt; desc dept;
+--------+-------------+------+-----+---------+-------+
| Field  | Type        | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| DEPTNO | int(2)      | NO   | PRI | NULL    |       |
| DNAME  | varchar(14) | YES  |     | NULL    |       |
| LOC    | varchar(13) | YES  |     | NULL    |       |
+--------+-------------+------+-----+---------+-------+

mysql&gt; desc salgrade;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| GRADE | int(11) | YES  |     | NULL    |       |
| LOSAL | int(11) | YES  |     | NULL    |       |
| HISAL | int(11) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="_8-表格中的数据-select-from-表名-这个是sql语句"><a href="#_8-表格中的数据-select-from-表名-这个是sql语句" class="header-anchor">#</a> 8. 表格中的数据：select * from 表名;（这个是SQL语句）</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from emp;
+-------+--------+-----------+------+------------+---------+---------+--------+
| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
+-------+--------+-----------+------+------------+---------+---------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_9-常见命令"><a href="#_9-常见命令" class="header-anchor">#</a> 9. 常见命令</h4> <ul><li>create database name; 创建数据库</li> <li>use name; 使用哪个数据库</li> <li>select database(); 查看使用的哪个数据库</li> <li>select version(); 查看数据库版本</li> <li>\c 结束一条语句</li> <li>exit 退出mysql</li> <li>show tables from name; 查看name数据库的表</li></ul> <h4 id="_10-查看创建表的语句"><a href="#_10-查看创建表的语句" class="header-anchor">#</a> 10. 查看创建表的语句</h4> <ul><li>show create table name; 查看name表的创建语句</li></ul> <h4 id="_11-简单的查询语句-dql"><a href="#_11-简单的查询语句-dql" class="header-anchor">#</a> 11. 简单的查询语句（DQL）</h4> <ul><li>语法格式： select 字段名1,字段名2,字段名3... from 表名;(任何一条sql语句以分号结尾)</li></ul> <p>注意：</p> <ol><li><p>任何一条sql语句以分号结尾</p></li> <li><p>sql语句不区分大小写</p></li> <li><p>字段可以经行数学计算，计算的别名使用as：select sal * 12 as 'allSal' from emp; as可以使用空格代替</p></li> <li><p>实际开发中不建议使用 select * from tablename;效率比较低</p></li> <li><p>条件查询：</p></li></ol> <p>select 字段 from 表名 where 条件；执行顺序是：先from，然后where，最后select；</p> <p>查询工资等于5000的员工姓名：select ename from emp where sal = 5000;</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename from emp where sal = 5000;
+-------+
| ename |
+-------+
| KING  |
+-------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>查询smith的工资：select sal from emp where ename='smith';</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select sal from emp where ename='smith';
+--------+
| sal    |
+--------+
| 800.00 |
+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>查询工资超过3000的人：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select ename,sal from emp where sal &gt;= 1000;
+--------+---------+
| ename  | sal     |
+--------+---------+
| ALLEN  | 1600.00 |
| WARD   | 1250.00 |
| JONES  | 2975.00 |
| MARTIN | 1250.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| SCOTT  | 3000.00 |
| KING   | 5000.00 |
| TURNER | 1500.00 |
| ADAMS  | 1100.00 |
| FORD   | 3000.00 |
| MILLER | 1300.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>找到1100到3000之间的人；</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp where sal &gt;=1100 and sal &lt;=3000;
+--------+---------+
| ename  | sal     |
+--------+---------+
| ALLEN  | 1600.00 |
| WARD   | 1250.00 |
| JONES  | 2975.00 |
| MARTIN | 1250.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| SCOTT  | 3000.00 |
| TURNER | 1500.00 |
| ADAMS  | 1100.00 |
| FORD   | 3000.00 |
| MILLER | 1300.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp where sal between 1100 and 3000;
+--------+---------+
| ename  | sal     |
+--------+---------+
| ALLEN  | 1600.00 |
| WARD   | 1250.00 |
| JONES  | 2975.00 |
| MARTIN | 1250.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| SCOTT  | 3000.00 |
| TURNER | 1500.00 |
| ADAMS  | 1100.00 |
| FORD   | 3000.00 |
| MILLER | 1300.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>between ... and ...：用与数字之间是闭区间，用于字符之间是左闭区右开</li></ul> <p>找出那些人没有津贴？ 在数据库中NULL不是一个值，代表什么也没有，为空
空不是一个，不能用等号衡量
必须使用is null 或者 is not null</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal,comm from emp where comm is null;
+--------+---------+------+
| ename  | sal     | comm |
+--------+---------+------+
| SMITH  |  800.00 | NULL |
| JONES  | 2975.00 | NULL |
| BLAKE  | 2850.00 | NULL |
| CLARK  | 2450.00 | NULL |
| SCOTT  | 3000.00 | NULL |
| KING   | 5000.00 | NULL |
| ADAMS  | 1100.00 | NULL |
| JAMES  |  950.00 | NULL |
| FORD   | 3000.00 | NULL |
| MILLER | 1300.00 | NULL |
+--------+---------+------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal,comm from emp where comm is null or comm = 0;
+--------+---------+------+
| ename  | sal     | comm |
+--------+---------+------+
| SMITH  |  800.00 | NULL |
| JONES  | 2975.00 | NULL |
| BLAKE  | 2850.00 | NULL |
| CLARK  | 2450.00 | NULL |
| SCOTT  | 3000.00 | NULL |
| KING   | 5000.00 | NULL |
| TURNER | 1500.00 | 0.00 |
| ADAMS  | 1100.00 | NULL |
| JAMES  |  950.00 | NULL |
| FORD   | 3000.00 | NULL |
| MILLER | 1300.00 | NULL |
+--------+---------+------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>找工资超过1000,部门为20或者30的人</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal,deptno from emp where  sal &gt;= 1000 and (deptno = 20 or deptno = 30);
+--------+---------+--------+
| ename  | sal     | deptno |
+--------+---------+--------+
| ALLEN  | 1600.00 |     30 |
| WARD   | 1250.00 |     30 |
| JONES  | 2975.00 |     20 |
| MARTIN | 1250.00 |     30 |
| BLAKE  | 2850.00 |     30 |
| SCOTT  | 3000.00 |     20 |
| TURNER | 1500.00 |     30 |
| ADAMS  | 1100.00 |     20 |
| FORD   | 3000.00 |     20 |
+--------+---------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>不确定的时候就加()</p> <p>找到工作岗位为salesman和manager的员工</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,job,sal from emp where job = 'salesman' or job = 'manager';
+--------+----------+---------+
| ename  | job      | sal     |
+--------+----------+---------+
| ALLEN  | SALESMAN | 1600.00 |
| WARD   | SALESMAN | 1250.00 |
| JONES  | MANAGER  | 2975.00 |
| MARTIN | SALESMAN | 1250.00 |
| BLAKE  | MANAGER  | 2850.00 |
| CLARK  | MANAGER  | 2450.00 |
| TURNER | SALESMAN | 1500.00 |
+--------+----------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,job,sal from emp where job in ('salesman','manager');
+--------+----------+---------+
| ename  | job      | sal     |
+--------+----------+---------+
| ALLEN  | SALESMAN | 1600.00 |
| WARD   | SALESMAN | 1250.00 |
| JONES  | MANAGER  | 2975.00 |
| MARTIN | SALESMAN | 1250.00 |
| BLAKE  | MANAGER  | 2850.00 |
| CLARK  | MANAGER  | 2450.00 |
| TURNER | SALESMAN | 1500.00 |
+--------+----------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li><p>in 和 or 可以互换， 还有not in，注意括号不是区间啊</p></li> <li><p>模糊查询like</p></li></ul> <p>在模糊查询必须必须掌握两个特殊的符号，一个是%，一个是_（有点正则的意思）</p> <p>%---&gt;任意多个字符
_---&gt;任意一个字符</p> <p>找出名字中带O的？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from emp where ename like '%o%';
+-------+-------+---------+------+------------+---------+------+--------+
| EMPNO | ENAME | JOB     | MGR  | HIREDATE   | SAL     | COMM | DEPTNO |
+-------+-------+---------+------+------------+---------+------+--------+
|  7566 | JONES | MANAGER | 7839 | 1981-04-02 | 2975.00 | NULL |     20 |
|  7788 | SCOTT | ANALYST | 7566 | 1987-04-19 | 3000.00 | NULL |     20 |
|  7902 | FORD  | ANALYST | 7566 | 1981-12-03 | 3000.00 | NULL |     20 |
+-------+-------+---------+------+------------+---------+------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>找出第一个字母为J的人</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from emp where ename like 'j%';
+-------+-------+---------+------+------------+---------+------+--------+
| EMPNO | ENAME | JOB     | MGR  | HIREDATE   | SAL     | COMM | DEPTNO |
+-------+-------+---------+------+------------+---------+------+--------+
|  7566 | JONES | MANAGER | 7839 | 1981-04-02 | 2975.00 | NULL |     20 |
|  7900 | JAMES | CLERK   | 7698 | 1981-12-03 |  950.00 | NULL |     30 |
+-------+-------+---------+------+------------+---------+------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>找出名字中有下划线的？像正则一样转义</p> <p>select * from emp where ename like '%_%';</p> <h4 id="_13-排序-升序、降序"><a href="#_13-排序-升序、降序" class="header-anchor">#</a> 13. 排序（升序、降序）</h4> <p>按照工资升序，找到员工姓名？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by sal;
+--------+---------+
| ename  | sal     |
+--------+---------+
| SMITH  |  800.00 |
| JAMES  |  950.00 |
| ADAMS  | 1100.00 |
| WARD   | 1250.00 |
| MARTIN | 1250.00 |
| MILLER | 1300.00 |
| TURNER | 1500.00 |
| ALLEN  | 1600.00 |
| CLARK  | 2450.00 |
| BLAKE  | 2850.00 |
| JONES  | 2975.00 |
| FORD   | 3000.00 |
| SCOTT  | 3000.00 |
| KING   | 5000.00 |
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>注意：order by 默认是升序</p> <ol><li>asc---&gt; 升序</li> <li>desc---&gt;降序</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by sal desc;
+--------+---------+
| ename  | sal     |
+--------+---------+
| KING   | 5000.00 |
| SCOTT  | 3000.00 |
| FORD   | 3000.00 |
| JONES  | 2975.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| ALLEN  | 1600.00 |
| TURNER | 1500.00 |
| MILLER | 1300.00 |
| MARTIN | 1250.00 |
| WARD   | 1250.00 |
| ADAMS  | 1100.00 |
| JAMES  |  950.00 |
| SMITH  |  800.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>按照工资降序排列，工资一样的按照名字的升序排列</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by sal desc,ename;
+--------+---------+
| ename  | sal     |
+--------+---------+
| KING   | 5000.00 |
| FORD   | 3000.00 |
| SCOTT  | 3000.00 |
| JONES  | 2975.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| ALLEN  | 1600.00 |
| TURNER | 1500.00 |
| MILLER | 1300.00 |
| MARTIN | 1250.00 |
| WARD   | 1250.00 |
| ADAMS  | 1100.00 |
| JAMES  |  950.00 |
| SMITH  |  800.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>越靠前的字段作用大，后面的可能都用不上，后面的字段只会在前面的字段相等的时候才会用的到</li></ul> <p>排序可能根据前面的字段的顺序排列</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by 1;
+--------+---------+
| ename  | sal     |
+--------+---------+
| ADAMS  | 1100.00 |
| ALLEN  | 1600.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| FORD   | 3000.00 |
| JAMES  |  950.00 |
| JONES  | 2975.00 |
| KING   | 5000.00 |
| MARTIN | 1250.00 |
| MILLER | 1300.00 |
| SCOTT  | 3000.00 |
| SMITH  |  800.00 |
| TURNER | 1500.00 |
| WARD   | 1250.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by 2;
+--------+---------+
| ename  | sal     |
+--------+---------+
| SMITH  |  800.00 |
| JAMES  |  950.00 |
| ADAMS  | 1100.00 |
| WARD   | 1250.00 |
| MARTIN | 1250.00 |
| MILLER | 1300.00 |
| TURNER | 1500.00 |
| ALLEN  | 1600.00 |
| CLARK  | 2450.00 |
| BLAKE  | 2850.00 |
| JONES  | 2975.00 |
| FORD   | 3000.00 |
| SCOTT  | 3000.00 |
| KING   | 5000.00 |
+--------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>找出工作岗位是salesman的员工，并且要求工资的降序排列</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal,job from emp where job in ('salesman') order by sal desc;
+--------+---------+----------+
| ename  | sal     | job      |
+--------+---------+----------+
| ALLEN  | 1600.00 | SALESMAN |
| TURNER | 1500.00 | SALESMAN |
| WARD   | 1250.00 | SALESMAN |
| MARTIN | 1250.00 | SALESMAN |
+--------+---------+----------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>select
  names     3
from
  tablename 1
where
  condition 2
order by
...         4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>order by是最后执行的，肯定是把所有的数据查出来之后排序的，这一点还是比较好理解的</p> <h4 id="_14-分组函数"><a href="#_14-分组函数" class="header-anchor">#</a> 14. 分组函数</h4> <ol><li>count 计数</li> <li>sum 求和</li> <li>avg 平均值</li> <li>max 最大值</li> <li>min 最小值</li></ol> <p>找出工资总和？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select sum(sal) from emp;
+----------+
| sum(sal) |
+----------+
| 29025.00 |
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>分组函数一共5个，都是对某一组数据进行操作，分组函数还有另一个名字，多行处理函数
多行处理函数的特点：输入多行，最终输出一行</p> <p>分组函数自动忽略NULL</p> <p>找出工资高于平均工资的人？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp where sal &gt; avg(sal);
ERROR 1111 (HY000): Invalid use of group function
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>原因：分组函数不可直接出现在where中，为什么呢？
因为group by是在where之后执行的</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select    5
  ...
from      1
  ...
where     2
  ...
group by  3
  ...
having    4
  ...
order by  6
  ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp where sal &gt; (select avg(sal) from emp);
+-------+---------+
| ename | sal     |
+-------+---------+
| JONES | 2975.00 |
| BLAKE | 2850.00 |
| CLARK | 2450.00 |
| SCOTT | 3000.00 |
| KING  | 5000.00 |
| FORD  | 3000.00 |
+-------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>两步合成一步</p> <p>count (*) 和 count（字段）之间的区别？</p> <p>count(*)：不是统计某个字段中的数据的个数，而是统计总记录的条数（和字段没有关系）
count（字段）：记录某个字段不为NULL的总数量</p> <p>分组函数也能够组合起来用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select sum(sal),max(sal),min(sal),avg(sal),count(sal) from emp;
+----------+----------+----------+-------------+------------+
| sum(sal) | max(sal) | min(sal) | avg(sal)    | count(sal) |
+----------+----------+----------+-------------+------------+
| 29025.00 |  5000.00 |   800.00 | 2073.214286 |         14 |
+----------+----------+----------+-------------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_15-补充-什么是单行处理函数"><a href="#_15-补充-什么是单行处理函数" class="header-anchor">#</a> 15. 补充：什么是单行处理函数？</h4> <p>输入一行，输出一行？</p> <p>计算每个员工的年薪？：select ename, (sal+comm)*12 yearsal from emp;</p> <p>在数据库中数学表达式中只要有NULL，最后的结果都是NULL</p> <blockquote><p>数据库中，只要有NULL参与的运算结果一定是NULL</p></blockquote> <p>ifnull() 空处理函数？
if (可能为null的数据,被当作什么来处理)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,(sal+ifnull(comm,0))*12 yearsal from emp;
+--------+----------+
| ename  | yearsal  |
+--------+----------+
| SMITH  |  9600.00 |
| ALLEN  | 22800.00 |
| WARD   | 21000.00 |
| JONES  | 35700.00 |
| MARTIN | 31800.00 |
| BLAKE  | 34200.00 |
| CLARK  | 29400.00 |
| SCOTT  | 36000.00 |
| KING   | 60000.00 |
| TURNER | 18000.00 |
| ADAMS  | 13200.00 |
| JAMES  | 11400.00 |
| FORD   | 36000.00 |
| MILLER | 15600.00 |
+--------+----------+

mysql&gt; select sum(comm) from emp;
+-----------+
| sum(comm) |
+-----------+
|   2200.00 |
+-----------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>说明sum是忽略了null在计算的</p> <h4 id="_16-group-by-和having"><a href="#_16-group-by-和having" class="header-anchor">#</a> 16. group by 和having</h4> <ol><li>group by ：按某个字段或者某些字段进行分组</li> <li>having ：having是对分组之后的数据进行过滤</li></ol> <p>指出每个工作岗位的最高薪资</p> <p>注意： 分组函数一般都会和group by 联合使用，这也是为什么它被成为分组函数的原因。
并且任何一个分组函数（count、sum、avg、max、min）都是在group by语句执行结束之后才会执行的
当一条sql语句没有group by的话，整张表的数据会自成一组</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select max(sal),job from emp group by job;
+----------+-----------+
| max(sal) | job       |
+----------+-----------+
|  3000.00 | ANALYST   |
|  1300.00 | CLERK     |
|  2975.00 | MANAGER   |
|  5000.00 | PRESIDENT |
|  1600.00 | SALESMAN  |
+----------+-----------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select max(sal),job,ename from emp group by job;
+----------+-----------+-------+
| max(sal) | job       | ename |
+----------+-----------+-------+
|  3000.00 | ANALYST   | SCOTT |
|  1300.00 | CLERK     | SMITH |
|  2975.00 | MANAGER   | JONES |
|  5000.00 | PRESIDENT | KING  |
|  1600.00 | SALESMAN  | ALLEN |
+----------+-----------+-------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>第二个查询的数据毫无意义，在Oracle数据库中会报错，因为Oracle的语法规则比MySQL语法规则严谨</p> <p>记住一个规则：当一条语句中有group by的话，select后面只能跟分组函数和参与分组的字段，就像第一个查询</p> <p>找出每个部门不同工作岗位的最高薪资</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select deptno,job,max(sal) from emp group by deptno,job;
+--------+-----------+----------+
| deptno | job       | max(sal) |
+--------+-----------+----------+
|     10 | CLERK     |  1300.00 |
|     10 | MANAGER   |  2450.00 |
|     10 | PRESIDENT |  5000.00 |
|     20 | ANALYST   |  3000.00 |
|     20 | CLERK     |  1100.00 |
|     20 | MANAGER   |  2975.00 |
|     30 | CLERK     |   950.00 |
|     30 | MANAGER   |  2850.00 |
|     30 | SALESMAN  |  1600.00 |
+--------+-----------+----------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>找出每个部门的最高薪资，要求显示薪资大于2900的数据</p> <p>找出每个部门的最高薪资：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select max(sal),deptno from emp group by deptno;
+----------+--------+
| max(sal) | deptno |
+----------+--------+
|  5000.00 |     10 |
|  3000.00 |     20 |
|  2850.00 |     30 |
+----------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>要求显示薪资大于2900的数据：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select max(sal),deptno from emp group by deptno having max(sal) &gt; 2900;
+----------+--------+
| max(sal) | deptno |
+----------+--------+
|  5000.00 |     10 |
|  3000.00 |     20 |
+----------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面的效率较低，以下的效率较高</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select max(sal),deptno from emp where sal &gt; 2900 group by deptno;
+----------+--------+
| max(sal) | deptno |
+----------+--------+
|  5000.00 |     10 |
|  3000.00 |     20 |
+----------+--------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>能够使用where就不要使用having，但是有些时候where搞不定的，就要使用having了</p> <h4 id="_17-总结一个完整的dql语句怎么写"><a href="#_17-总结一个完整的dql语句怎么写" class="header-anchor">#</a> 17. 总结一个完整的DQL语句怎么写？</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>select    5
  ...
from      1
  ...
where     2
  ...
group by  3
  ...
having    4
  ...
order by  6
  ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="有哪些数据库管理系统"><a href="#有哪些数据库管理系统" class="header-anchor">#</a> 有哪些数据库管理系统</h3> <p>Oracle做数据库起家的</p> <p>Oracle 包含 MySQL</p> <p>DB2、Sybase、&quot;MS SqlServer 支持标准sql的数据库管理系统&quot;</p> <p>Oracle（安全级别、传统行业）</p> <p>MySQL（互联网网站使用的多）</p> <h3 id="储存引擎"><a href="#储存引擎" class="header-anchor">#</a> 储存引擎</h3> <p>完整的建表语句：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>CREATE TABLE `t_class` (
  `cno` int(11) NOT NULL DEFAULT '0',
  `cname` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`cno`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>mysql默认使用的引擎是innoDB，默认字符集是utf8</p> <ul><li>什么是存储引擎呢？</li></ul> <p>这个名字只会在mysql中出现，（Oracle中有对应的机制，但是不叫存储引擎，就叫表的存储方式）</p> <p>mysql支持很多存储引擎，每一个存储引擎都对了一种不同的存储方式</p> <p>每一个存储引擎都有自己的优缺点，需要在核实的时机选择合适的存储引擎</p> <p>查看当前的mysql支持的存储引擎？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
show engines \G;

mysql&gt; show engines \G;
*************************** 1. row ***************************
      Engine: FEDERATED
     Support: NO
     Comment: Federated MySQL storage engine
Transactions: NULL
          XA: NULL
  Savepoints: NULL
*************************** 2. row ***************************
      Engine: MRG_MYISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 3. row ***************************
      Engine: MyISAM
     Support: YES
     Comment: MyISAM storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 4. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 6. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: InnoDB
     Support: DEFAULT
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 9. row ***************************
      Engine: PERFORMANCE_SCHEMA
     Support: YES
     Comment: Performance Schema
Transactions: NO
          XA: NO
  Savepoints: NO
9 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><ul><li>常见的存储引擎</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Engine: MyISAM
      Support: YES
      Comment: MyISAM storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>MyISAM：不支持事务，最常用，但是不是默认的</p> <p>优点：可被压缩，节省存储空间，并且可以转换为只读表，提高检索效率</p> <p>缺点：不支持事务</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>  Engine: InnoDB
     Support: DEFAULT
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>优点：支持事务、行级锁，这种存储引擎最安全</p> <p>表结构存储在xxx.frm文件中</p> <p>表数据存储在tablespace中</p> <p>在mysql数据库崩溃之后提供自动恢复机制</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>  Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>优点：不支持事务。数据容易丢失。因为所有数据和索引都存储在内存当中的。
优点：查询速度最快</p> <h3 id="数据库设计三范式"><a href="#数据库设计三范式" class="header-anchor">#</a> 数据库设计三范式</h3> <ul><li><p>什么是设计范式？
设计表的依据，按照这个三范式设计的表不会出现数据冗余</p></li> <li><p>哪三范式？
第一范式：任何一张表都应该有主键，并且每个字段不可再分
第二范式：建议在第一范式的基础之上，所有非主键字段完全依赖主键，不能产生部份依赖。（多对多？三张表，关系表两个外键）
第三范式：建立在第二方式的基础上，所有非主键字段直接依赖主键，不能产生传递依赖。（一对多？两张表，多的表加外键）</p></li></ul> <p>提醒：在实际开发中，以满足客户需求为主，有时候会拿冗余来换执行速度</p> <ul><li><p>一对一设计？</p></li> <li><p>主键共享</p></li> <li><p>外键唯一</p></li></ul> <h3 id="外连接查询"><a href="#外连接查询" class="header-anchor">#</a> 外连接查询</h3> <h4 id="_1-关于查询结果集的去重"><a href="#_1-关于查询结果集的去重" class="header-anchor">#</a> 1. 关于查询结果集的去重</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select distinct job from emp;
+-----------+
| job       |
+-----------+
| CLERK     |
| SALESMAN  |
| MANAGER   |
| ANALYST   |
| PRESIDENT |
+-----------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,distinct job from emp;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'distinct job from emp' at line 1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>distinct 只能出现在所有字段的前方，后面所有的字段联合起来，所有的去重</p> <p>统计岗位的数量</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select count(distinct job) from emp;
+---------------------+
| count(distinct job) |
+---------------------+
|                   5 |
+---------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-链接查询"><a href="#_2-链接查询" class="header-anchor">#</a> 2. 链接查询</h4> <ul><li>什么是链接查询</li></ul> <p>在实际开发中，大部分的情况都不是从单边中查询数据，一般都是多张表联合查询取出最终结果。</p> <p>在实际开发过程中，一般一个业务都会对应多张表，eg:学生喝班级，起码两张表</p> <p>学生和编辑信息存储到一张表中，数据会十分的冗余</p> <ul><li><p>连接查询的分类？</p></li> <li><p>根据语法出现的年代划分的话，包括：</p></li></ul> <ol><li>SQL92(一些老的DBA可能还在使用这种语法，DBA：Database Administrator, 数据库管理员)</li> <li>SQL99(比较新的语法)</li></ol> <ul><li>根据表的连接方式来划分，包括：</li></ul> <ol><li>内连接：</li></ol> <ul><li>等值连接</li> <li>非等值连接</li> <li>自连接</li></ul> <ol start="2"><li>外连接：</li></ol> <ul><li>左外连接（左连接）</li> <li>右外连接（右连接）</li></ul> <ol start="3"><li>全连接（很少用）</li></ol> <ul><li>在表的连接查询方面有一种现象：笛卡儿积现象（笛卡尔乘积现象）</li></ul> <p>找出每个员工的部门名称，要求显示员工和部门名</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,dname from emp,dept;
+--------+------------+
| ename  | dname      |
+--------+------------+
| SMITH  | ACCOUNTING |
| SMITH  | RESEARCH   |
| SMITH  | SALES      |
| SMITH  | OPERATIONS |
| ALLEN  | ACCOUNTING |
| ALLEN  | RESEARCH   |
| ALLEN  | SALES      |
| ALLEN  | OPERATIONS |
+--------+------------+
56 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>? 笛卡儿积现象：当两张表进行连接查询的时候，没有任何条件限制，最终的查询结果条数是两张表记录条数的乘积</p> <p>关于表的别名：</p> <p>select e.ename,d.dname from emp e,dept d;</p> <p>别的别名的好处？</p> <ol><li>第一：可执行效率高</li> <li>第二：可读性好</li></ol> <ul><li>怎么避免笛卡儿积现象？当然是加条件进行过滤。</li></ul> <p>思考：避免了笛卡尔积，会减少记录的匹配次数吗？不会的，还是56次查询，只是显示的是有效的记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename,d.dname from emp e,dept d where e.deptno = d.deptno;
+--------+------------+
| ename  | dname      |
+--------+------------+
| CLARK  | ACCOUNTING |
| KING   | ACCOUNTING |
| MILLER | ACCOUNTING |
| SMITH  | RESEARCH   |
| JONES  | RESEARCH   |
| SCOTT  | RESEARCH   |
| ADAMS  | RESEARCH   |
| FORD   | RESEARCH   |
| ALLEN  | SALES      |
| WARD   | SALES      |
| MARTIN | SALES      |
| BLAKE  | SALES      |
| TURNER | SALES      |
| JAMES  | SALES      |
+--------+------------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>上面这种等号的方法是SQL92的写法，以后不用</p> <ul><li>2.1.1 内连接之等值连接，最大的特点是：条件是等量关系</li></ul> <p>查询每个员工的部门名称，要求显示员工名和部门名</p> <p>SQL99语法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename,d.dname from emp e join dept d on e.deptno=d.deptno;
+--------+------------+
| ename  | dname      |
+--------+------------+
| CLARK  | ACCOUNTING |
| KING   | ACCOUNTING |
| MILLER | ACCOUNTING |
| SMITH  | RESEARCH   |
| JONES  | RESEARCH   |
| SCOTT  | RESEARCH   |
| ADAMS  | RESEARCH   |
| FORD   | RESEARCH   |
| ALLEN  | SALES      |
| WARD   | SALES      |
| MARTIN | SALES      |
| BLAKE  | SALES      |
| TURNER | SALES      |
| JAMES  | SALES      |
+--------+------------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>select
  e.ename,d.dname
from
  emp e
inner join
  dept d
on
  e.deptno=d.deptno
;
语法：
...
  A
inner join
  B
on
  连接条件
where
  过滤条件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>inner：内连接，可省略，带上是可读性好一些</p> <ul><li>2.1.2 内连接的非等值连接：最大的特点是：连接条件中的关系是非等量关系</li></ul> <p>找出员工的工资等级，要求显示员工名、工资、工资等级</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename,e.sal,s.grade from emp e join salgrade s on e.sal between s.losal and s.hisal;
+--------+---------+-------+
| ename  | sal     | grade |
+--------+---------+-------+
| SMITH  |  800.00 |     1 |
| ALLEN  | 1600.00 |     3 |
| WARD   | 1250.00 |     2 |
| JONES  | 2975.00 |     4 |
| MARTIN | 1250.00 |     2 |
| BLAKE  | 2850.00 |     4 |
| CLARK  | 2450.00 |     4 |
| SCOTT  | 3000.00 |     4 |
| KING   | 5000.00 |     5 |
| TURNER | 1500.00 |     3 |
| ADAMS  | 1100.00 |     1 |
| JAMES  |  950.00 |     1 |
| FORD   | 3000.00 |     4 |
| MILLER | 1300.00 |     2 |
+--------+---------+-------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>select
  e.ename,e.sal,s.grade
from
  emp e
inner join
  salgrade s
on
  e.sal between s.losal and s.hisal
;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>2.1.3 自连接：最大的特点是：一张表看作两张表</li></ul> <p>找出每个员工的上级领导，要求显示，员工名和对应的领导名</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename 'empName',ecp.ename 'leaderName' from emp e inner join emp ecp on e.mgr=ecp.empno;
+---------+------------+
| empName | leaderName |
+---------+------------+
| SMITH   | FORD       |
| ALLEN   | BLAKE      |
| WARD    | BLAKE      |
| JONES   | KING       |
| MARTIN  | BLAKE      |
| BLAKE   | KING       |
| CLARK   | KING       |
| SCOTT   | JONES      |
| TURNER  | BLAKE      |
| ADAMS   | SCOTT      |
| JAMES   | BLAKE      |
| FORD    | JONES      |
| MILLER  | CLARK      |
+---------+------------+
13 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li><p>2.2.1 外连接？</p></li> <li><p>什么是外连接，和内连接有什么区别？</p></li> <li><p>内连接：</p> <ol><li>假设A和B表进行连接，使用内连接的话，凡是A表和B表能够匹配上的记录查询出来，这就是内连接</li> <li>AB两张表没用主副之分，两张表是平等的</li></ol></li> <li><p>外连接：</p> <ol><li>假设A和B表连接，使用外连接的话，AB两张表中有一张表是主表，一张表是副表，主要查询主表中的数据，捎带查询副表，如果副表中的数据没有与主表中的数据匹配上副表自动模拟出NULL与之匹配</li></ol></li> <li><p>外连接的分类？</p> <ol><li>左外连接（左连接）：表示左边的这张表是主表</li> <li>右外连接（右连接）：表示右边的这张表是主表</li> <li>左连接有右连接的写法，右连接也会对应的做链接的写法</li></ol></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select a.ename empname,b.ename leadername from emp a left join emp b on a.mgr=b.empno;
+---------+------------+
| empname | leadername |
+---------+------------+
| SMITH   | FORD       |
| ALLEN   | BLAKE      |
| WARD    | BLAKE      |
| JONES   | KING       |
| MARTIN  | BLAKE      |
| BLAKE   | KING       |
| CLARK   | KING       |
| SCOTT   | JONES      |
| KING    | NULL       |
| TURNER  | BLAKE      |
| ADAMS   | SCOTT      |
| JAMES   | BLAKE      |
| FORD    | JONES      |
| MILLER  | CLARK      |
+---------+------------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>外连接（左外连接）：内连接的数据会少，只有13条，数据丢失</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select
  a.ename empname,b.ename leadername
from
  emp a
left outer join
  emp b
on
  a.mgr=b.empno;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>右外连接</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select
  a.ename empname,b.ename leadername
from
  emp b
right outer join
  emp a
on
  a.mgr=b.empno;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>outer 可以省略，这个只是可读性强</p> <p>区分内链接和外连接的标志主要是：是否右left、right，有必定是外连接，否必定是内连接，真实的使用场景肯定是外连接</p> <p>外连接最重要的特点是：主表的数据无条件的全部查询出来</p> <p>找出哪个部门没有员工？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select d.* from dept d left join emp e on d.deptno = e.deptno where e.deptno is null;
+--------+------------+--------+
| DEPTNO | DNAME      | LOC    |
+--------+------------+--------+
|     40 | OPERATIONS | BOSTON |
+--------+------------+--------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>2.3 三张表怎么连接查询</li></ul> <p>找出每一个员工的部门名称以及工资等级</p> <p>注意：解释一下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>A 
join
B
on
join
C
on
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>表示A表先和B表连接，连接之后A表和C表连接</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename,d.dname,s.grade from emp e left join dept d on e.deptno=d.deptno left join salgrade s on e.sal between s.losal and s.hisal;
+--------+------------+-------+
| ename  | dname      | grade |
+--------+------------+-------+
| SMITH  | RESEARCH   |     1 |
| ALLEN  | SALES      |     3 |
| WARD   | SALES      |     2 |
| JONES  | RESEARCH   |     4 |
| MARTIN | SALES      |     2 |
| BLAKE  | SALES      |     4 |
| CLARK  | ACCOUNTING |     4 |
| SCOTT  | RESEARCH   |     4 |
| KING   | ACCOUNTING |     5 |
| TURNER | SALES      |     3 |
| ADAMS  | RESEARCH   |     1 |
| JAMES  | SALES      |     1 |
| FORD   | RESEARCH   |     4 |
| MILLER | ACCOUNTING |     2 |
+--------+------------+-------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>找出每个一个员工的部门名称、工资等级、以及上级领导</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; SELECT
    -&gt;   e.ename '员工',d.dname,s.grade,ec.ename '领导'
    -&gt; FROM
    -&gt;   emp e
    -&gt; LEFT JOIN
    -&gt;   dept d
    -&gt; ON
    -&gt;   e.deptno=d.deptno
    -&gt; LEFT JOIN
    -&gt;   salgrade s
    -&gt; ON
    -&gt;   e.sal BETWEEN s.losal AND s.hisal
    -&gt; LEFT JOIN
    -&gt;   emp ec
    -&gt; ON
    -&gt;   e.mgr=ec.empno
    -&gt; ;
+--------+------------+-------+-------+
|        | dname      | grade |       |
+--------+------------+-------+-------+
| SMITH  | RESEARCH   |     1 | FORD  |
| ALLEN  | SALES      |     3 | BLAKE |
| WARD   | SALES      |     2 | BLAKE |
| JONES  | RESEARCH   |     4 | KING  |
| MARTIN | SALES      |     2 | BLAKE |
| BLAKE  | SALES      |     4 | KING  |
| CLARK  | ACCOUNTING |     4 | KING  |
| SCOTT  | RESEARCH   |     4 | JONES |
| KING   | ACCOUNTING |     5 | NULL  |
| TURNER | SALES      |     3 | BLAKE |
| ADAMS  | RESEARCH   |     1 | SCOTT |
| JAMES  | SALES      |     1 | BLAKE |
| FORD   | RESEARCH   |     4 | JONES |
| MILLER | ACCOUNTING |     2 | CLARK |
+--------+------------+-------+-------+
14 rows in set, 2 warnings (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="增删改"><a href="#增删改" class="header-anchor">#</a> 增删改</h3> <h4 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h4> <p>建表语句的语法格式：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create table 表名(
  字段名1，数据类型
  字段名2，数据类型
  字段名3，数据类型
  字段名4，数据类型
  ...
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>所有的命名都是一样，最好是见名知义</p> <p>关于MySQL当中字段的数据类型？常见的数据类型</p> <p>int     整数型</p> <p>bigint  长整型</p> <p>float   浮点型</p> <p>char    定长字符串</p> <p>varchar 可变长字符串</p> <p>date    日期类型</p> <p>BLOB    二进制大对象（存储图片、视频等流媒体信息）Binary Large Object</p> <p>CLOB    字符大对象（存储较大文本，比如，存储4G的字符串） Character Large Object</p> <p>...</p> <p>char和varchar 怎么选择</p> <p>char 定长 超出长度报错 效率高 不需要做运算，分配指定多个空间 适合已知定长的类型，不会发生变化的长度eg：性别，生日等</p> <p>varchar 可变长度 帮助填充长度，超出长度报错，适合数据长度不确定eg：姓名，简介等</p> <p>BLOB和CLOB类型的使用？</p> <p>比较小的图片也会BLOB，但是更多的时候还是放在文件服务器上</p> <p>表名在数据库当中一般建议以：t_或者tbl_开始</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>创建学生表：
  学生信息包括：
    学号、姓名、性别、班级编号、生日；
    学号：bigint
    姓名：varchar
    性别：char
    班级编号：varchar
    生日：char
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>create table t_mytest(
  no bigint,
  name varchar(255),
  sex char(1),
  classno varchar(255),
  birthday char(10)
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; create table t_mytest(
    -&gt;   no bigint,
    -&gt;   name varchar(255),
    -&gt;   sex char(1),
    -&gt;   classno varchar(255),
    -&gt;   birthday char(10)
    -&gt; );
Query OK, 0 rows affected (0.07 sec)

mysql&gt; show tables
    -&gt; ;
+----------------+
| Tables_in_test |
+----------------+
| dept           |
| emp            |
| salgrade       |
| t_class        |
| t_mytest       |
| t_student      |
+----------------+
6 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; desc t_mytest;
+----------+--------------+------+-----+---------+-------+
| Field    | Type         | Null | Key | Default | Extra |
+----------+--------------+------+-----+---------+-------+
| no       | bigint(20)   | YES  |     | NULL    |       |
| name     | varchar(255) | YES  |     | NULL    |       |
| sex      | char(1)      | YES  |     | NULL    |       |
| classno  | varchar(255) | YES  |     | NULL    |       |
| birthday | char(10)     | YES  |     | NULL    |       |
+----------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="插入数据insert"><a href="#插入数据insert" class="header-anchor">#</a> 插入数据insert</h4> <p>语法格式：</p> <p>insert into 表名 (字段名1,字段名2,字段名3...) values (值1,值2,值3...)</p> <p>insert into t_mytest (no,name,sex,classno,birthday) values (201414790221,'salvatore','1','xinkeyi2ban','1994-03-25');</p> <p>前面的key的顺序是位置是可以互换的，但values和key的顺序必须要一致</p> <p>insert into t_mytest (name) values ('laolong');</p> <p>在这种情况下面其他的字段将会自动填充NULL</p> <p>drop table if exists t_mytest;</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create table t_mytest(
  no bigint,
  name varchar(255),
  sex char(1) default '1',
  classno varchar(255),
  birthday char(10)
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>default指定默认值；如果没有默认值则默认指定NULL</p> <p>需要注意的地方，当一条insert语句执行成功之后，表格当中必然会多一条记录。</p> <p>即使表格的数据为null，也不可使用insert修改，只能使用update</p> <p>insert into t_mytest values (201414790223,'vera','0','xinkeyi2ban','1996-02-27');</p> <p>这种可以，但是对数量和顺序都是强要求的；</p> <h4 id="表的复制"><a href="#表的复制" class="header-anchor">#</a> 表的复制</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; create table emp1 as select * from emp;
Query OK, 14 rows affected (0.07 sec)
Records: 14  Duplicates: 0  Warnings: 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; show tables;
+----------------+
| Tables_in_test |
+----------------+
| dept           |
| emp            |
| emp1           |
| salgrade       |
| t_class        |
| t_mytest       |
| t_student      |
+----------------+
7 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from emp1;
+-------+--------+-----------+------+------------+---------+---------+--------+
| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
+-------+--------+-----------+------+------------+---------+---------+--------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>语法：</p> <p>create table 表名 as select语句-&gt;将查询出来的结果当作表创建出来</p> <h4 id="将查询出来的结果插入到一张表中"><a href="#将查询出来的结果插入到一张表中" class="header-anchor">#</a> 将查询出来的结果插入到一张表中</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from dept1;
+--------+------------+----------+
| DEPTNO | DNAME      | LOC      |
+--------+------------+----------+
|     10 | ACCOUNTING | NEW YORK |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
+--------+------------+----------+
4 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into dept1 select * from dept;
Query OK, 4 rows affected (0.04 sec)
Records: 4  Duplicates: 0  Warnings: 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from dept1;
+--------+------------+----------+
| DEPTNO | DNAME      | LOC      |
+--------+------------+----------+
|     10 | ACCOUNTING | NEW YORK |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
|     10 | ACCOUNTING | NEW YORK |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
+--------+------------+----------+
8 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="修改表中的数据update"><a href="#修改表中的数据update" class="header-anchor">#</a> 修改表中的数据update</h4> <p>语法格式：</p> <p>update 表名 set 字段名1=值1，字段名2=值2... where 条件</p> <p>注意：没有条件整张表全部更新</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; update dept1 set dname='SHANGHAI',loc='RENSHIBU' where deptno=10;
Query OK, 2 rows affected (0.04 sec)
Rows matched: 2  Changed: 2  Warnings: 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from dept1;
+--------+------------+----------+
| DEPTNO | DNAME      | LOC      |
+--------+------------+----------+
|     10 | SHANGHAI   | RENSHIBU |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
|     10 | SHANGHAI   | RENSHIBU |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
+--------+------------+----------+
8 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; update dept1 set dname='x', loc='y';
Query OK, 8 rows affected (0.02 sec)
Rows matched: 8  Changed: 8  Warnings: 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from dept1;
+--------+-------+------+
| DEPTNO | DNAME | LOC  |
+--------+-------+------+
|     10 | x     | y    |
|     20 | x     | y    |
|     30 | x     | y    |
|     40 | x     | y    |
|     10 | x     | y    |
|     20 | x     | y    |
|     30 | x     | y    |
|     40 | x     | y    |
+--------+-------+------+
8 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据？</h4> <p>语法格式：</p> <p>delete from 表名 where</p> <p>注意：没有条件全部删除</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from dept1;
+--------+-------+------+
| DEPTNO | DNAME | LOC  |
+--------+-------+------+
|     20 | x     | y    |
|     30 | x     | y    |
|     40 | x     | y    |
|     20 | x     | y    |
|     30 | x     | y    |
|     40 | x     | y    |
+--------+-------+------+
6 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; delete from dept1
    -&gt; ;
Query OK, 6 rows affected (0.03 sec)

mysql&gt; select * from dept1;
Empty set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>怎么删除大表中的数据？</p> <p>delete 的效率是非常慢的，不释放物理存储空间，可回滚</p> <p>确定不需要的数据？风险大，不能回滚的操作，数据永久丢失</p> <p>表截断</p> <p>truncate table emp1;</p> <h4 id="insert-delete-update-select-是需要写在程序里面去的-但是对于表结构的修改和创建等-是可以使用工具的-在实际开发中一旦表设计好之后-对表结构的修改是很少的-修改表结构就是对之前的设计的否定-但是一些修改也是必须的"><a href="#insert-delete-update-select-是需要写在程序里面去的-但是对于表结构的修改和创建等-是可以使用工具的-在实际开发中一旦表设计好之后-对表结构的修改是很少的-修改表结构就是对之前的设计的否定-但是一些修改也是必须的" class="header-anchor">#</a> insert delete update select 是需要写在程序里面去的，但是对于表结构的修改和创建等，是可以使用工具的，在实际开发中一旦表设计好之后，对表结构的修改是很少的，修改表结构就是对之前的设计的否定，但是一些修改也是必须的</h4> <p>增删改查：CRUD操作</p> <p>create（增） retrieve（检索） update delete</p> <h3 id="union-可以将查询结果集相加"><a href="#union-可以将查询结果集相加" class="header-anchor">#</a> union(可以将查询结果集相加)</h3> <p>找出工作岗位是salesman和manager的员工</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,job from emp where job in ('salesman','manager');
+--------+----------+
| ename  | job      |
+--------+----------+
| ALLEN  | SALESMAN |
| WARD   | SALESMAN |
| JONES  | MANAGER  |
| MARTIN | SALESMAN |
| BLAKE  | MANAGER  |
| CLARK  | MANAGER  |
| TURNER | SALESMAN |
+--------+----------+
7 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>也可以这么写</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,job from emp where job='salesman'
    -&gt; union
    -&gt; select ename,job from emp where job='manager';
+--------+----------+
| ename  | job      |
+--------+----------+
| ALLEN  | SALESMAN |
| WARD   | SALESMAN |
| MARTIN | SALESMAN |
| TURNER | SALESMAN |
| JONES  | MANAGER  |
| BLAKE  | MANAGER  |
| CLARK  | MANAGER  |
+--------+----------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp
    -&gt; union
    -&gt; select sal from emp;
ERROR 1222 (21000): The used SELECT statements have a different number of columns
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>记住union的列数一定要相同</p> <h4 id="limit-重点中的重点-分页查询全靠这个"><a href="#limit-重点中的重点-分页查询全靠这个" class="header-anchor">#</a> limit（重点中的重点，分页查询全靠这个）</h4> <ol><li>limit是mysql特有的，其他数据库中没有，不通用，（Oracle中有一个相同的机制，叫做rownum）</li> <li>limit取结果集中的部分数据，这是它的左右</li> <li>语法机制：limit startIndex length</li></ol> <p>startIndex：起始位置，length：取多少个</p> <p>取出工资的前5名</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by sal desc limit 0, 5;
+-------+---------+
| ename | sal     |
+-------+---------+
| KING  | 5000.00 |
| SCOTT | 3000.00 |
| FORD  | 3000.00 |
| JONES | 2975.00 |
| BLAKE | 2850.00 |
+-------+---------+
5 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果limit后面只写一个数字那么这个数字为length，startIndex为0</p> <p>limit为sql语句最后执行的一个环节</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select    5
  ...
from      1
  ...
where     2
  ...
group by  3
  ...
having    4
  ...
order by  6
  ...
limit     7
  ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>找出工资排名在第4到第9的员工</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select ename,sal from emp order by sal desc limit 3, 6;
+--------+---------+
| ename  | sal     |
+--------+---------+
| JONES  | 2975.00 |
| BLAKE  | 2850.00 |
| CLARK  | 2450.00 |
| ALLEN  | 1600.00 |
| TURNER | 1500.00 |
| MILLER | 1300.00 |
+--------+---------+
6 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>通用的标准分页sql？</p> <p>每页显示pageSize条记录</p> <p>第pageNo页：limit (pageNo - 1)*pageSize,pageSize</p> <h3 id="约束-constraint"><a href="#约束-constraint" class="header-anchor">#</a> 约束（constraint）</h3> <p>什么是约束，常见的约束有哪些？</p> <p>唯一性约束、非空性约束---&gt;保证和法性、完整性、有效性等</p> <p>在创建表的时候，可以给表的字段添加相应的约束，添加约束的目的是为了保证表中的数据的合法性、有效性、完整性等</p> <ul><li>常见的约束有哪些？</li></ul> <ol><li>非空约束（not null）：字段不能为null</li> <li>唯一约束（unique）：字段不能重复</li> <li>主键约束（primary key）：不为null，不能重复（简称：pk）</li> <li>外键约束（foreign key）：...（简称：fk）
5.检查约束（check）：注意Oracle数据有有check约束，但是mysql没有，目前MySQL不支持该约束</li></ol> <h4 id="not-null"><a href="#not-null" class="header-anchor">#</a> not null</h4> <p>drop table if exists t_myuser;</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create table t_myuser (
  id int,
  username varchar(255) not null,
  psd varchar(255)
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; desc t_myuser;
+----------+--------------+------+-----+---------+-------+
| Field    | Type         | Null | Key | Default | Extra |
+----------+--------------+------+-----+---------+-------+
| id       | int(11)      | YES  |     | NULL    |       |
| username | varchar(255) | NO   |     | NULL    |       |
| psd      | varchar(255) | YES  |     | NULL    |       |
+----------+--------------+------+-----+---------+-------+
3 rows in set (0.01 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t_myuser (id,psd) values (1,'lsx');
ERROR 1364 (HY000): Field 'username' doesn't have a default value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>insert into t_myuser (id,username,psd) values (1,'salvatore','lsx');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t_myuser (id,username,psd) values (1,'salvatore','lsx');
Query OK, 1 row affected (0.02 sec)

mysql&gt; select * from t_myuser;
+------+-----------+------+
| id   | username  | psd  |
+------+-----------+------+
|    1 | salvatore | lsx  |
+------+-----------+------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="唯一性约束-unique"><a href="#唯一性约束-unique" class="header-anchor">#</a> 唯一性约束：unique</h4> <p>唯一性约束修饰的字段具有唯一性，不能重复，但是可以为null</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; drop table t_myuser;
Query OK, 0 rows affected (0.03 sec)

mysql&gt; create table t_myuser(
    -&gt; id int,
    -&gt; username varchar(255) unique // 列级约束
    -&gt; );
Query OK, 0 rows affected (0.04 sec)

mysql&gt; insert into t_myuser(id,username) values(1,'salvatore');
Query OK, 1 row affected (0.02 sec)

mysql&gt; select * from t_myuser;
+------+-----------+
| id   | username  |
+------+-----------+
|    1 | salvatore |
+------+-----------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t_myuser(id,username) values(2,'salvatore');
ERROR 1062 (23000): Duplicate entry 'salvatore' for key 'username'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>多个字段联合起来不能重复（表级约束）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create table t_myuser(
  id int,
  username varchar(255),
  userrename varchar(255),
  unique(username,userrename) // 表级约束
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>所以说：方便统一，最好直接使用表级约束，但是列级也有优势，直观</p> <p>注意：not null 只有列级约束，没有表级约束</p> <h4 id="主键约束"><a href="#主键约束" class="header-anchor">#</a> 主键约束</h4> <ul><li>如何给一张表添加主键约束</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>drop table if exists t_myuser;
create table t_myuser(
  id int primary key,
  username varchar(255),
  email varchar(255)
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>insert into t_myuser values(1, 'salvatore','11@yun.com');
insert into t_myuser values(2, 'nick','22@yun.com');
insert into t_myuser values(3, 'vera','33@yun.com');
insert into t_myuser values(4, 'long','44@yun.com');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from t_myuser;
+----+-----------+------------+
| id | username  | email      |
+----+-----------+------------+
|  1 | salvatore | 11@yun.com |
|  2 | nick      | 22@yun.com |
|  3 | vera      | 33@yun.com |
|  4 | long      | 44@yun.com |
+----+-----------+------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t_myuser values(1, 'rose','44@yun.com');
ERROR 1062 (23000): Duplicate entry '1' for key 'PRIMARY'

mysql&gt; insert into t_myuser(username,email) values ('rose','55@yun.com');
ERROR 1364 (HY000): Field 'id' doesn't have a default value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>添加组件约束之后，不能重复也不能为空</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create table t_myuser(
  id int,
  username varchar(255),
  email varchar(255),
  primary key(id) // 表级约束
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p>主键相关的术语：主键约束（primary）、主键字段（id）、主键值（1、2、3、4）</p></li> <li><p>主键有什么作用？</p> <ol><li>表的设计三范式中有要求，第一范式就要求任何一张表都有主键</li> <li>主键的作用：主键值是这行记录在这张表当中的唯一标识。（就像一个人的身份证号一样）</li></ol></li> <li><p>主键分类？</p> <ol><li>根据主键的字段的字段数量来划分：</li></ol> <p>单一主键（推荐使用，常用的）</p> <p>复合主键（多个字段联合起来添加一个主键约束）（不建议使用，因为复合主键违背三范式）</p> <ol start="2"><li>根据主键性质来划分：</li></ol> <p>自然主键：主键值最好是一个和业务没什么关系的值（推荐使用）</p> <p>业务主键：主键值和系统的业务挂钩，例如：银行卡号、身份证号（不推荐使用，最好不要拿着和业务挂钩的字段作为主键。因为以后的业务一旦发生改变，主键值可能也需要发生改变）</p></li> <li><p>****** 一张表的主键约束只能有一个 ******</p></li> <li><p>mysql提供主键自增（auto_increment）</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>drop table if exists t_myuser;
create table t_myuser(
  id int primary key auto_increment,
  username varchar(255),
  email varchar(255)
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>insert into t_myuser(username,email) values('salvatore','11@yun.com');
insert into t_myuser(username,email) values('nick','22@yun.com');
insert into t_myuser(username,email) values('vera','33@yun.com');
insert into t_myuser(username,email) values('long','44@yun.com');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Oracle也提供了一种自增机制，叫做序列（sequence）对象</p> <h4 id="外键约束"><a href="#外键约束" class="header-anchor">#</a> 外键约束</h4> <ul><li>外键约束的相关术语：</li></ul> <ol><li>外键约束（foreign key）</li> <li>外键字段：添加有外键约束的字段</li> <li>外键值：外间字段对应的每一个值</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from t_class;
+-----+------------------+
| cno | cname            |
+-----+------------------+
| 101 | xxxxxxxxxxxxxxxx |
| 102 | yyyyyyyyyyyyyyyy |
+-----+------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from t_student;
+------+-------+---------+
| sno  | sname | classno |
+------+-------+---------+
|    1 | zs1   |     101 |
|    2 | zs2   |     101 |
|    3 | zs3   |     102 |
|    4 | zs4   |     102 |
|    5 | zs5   |     102 |
|    6 | zs6   |     102 |
+------+-------+---------+
6 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>将以上表的建表语句写出来：</li></ul> <p>t_student中的classno字段引用t_class表中的cno字段，此时t_student表叫做子表。t_class表叫做父表</p> <ul><li>添加数据的时候先添加父表，再添加子表</li> <li>删除数据的时候先删除子表，再删除父表</li> <li>创建表的时候先创建父表，再创建子表</li> <li>删除表的时候先删除子表，再删除父表</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>drop table if exists t_student;

drop table if exists t_class;

create table t_class(
  cno int,
  cname varchar(255),
  primary key(cno)
);

create table t_student(
  sno int,
  sname varchar(255),
  classno int,
  primary key(sno),
  foreign key(classno) references t_class(cno)
);

insert into t_class values (101,'xxxxxxxxxx'),(102,'yyyyyyyyyy');
insert into t_student values 
(1,'salvatore1',101),
(2,'salvatore2',102),
(3,'salvatore3',102),
(4,'salvatore4',101),
(5,'salvatore5',102),
(6,'salvatore6',101);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; inser into t_student values (1,'liaoxuan',103);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'inser into t_student values (1,'liaoxuan',103)' at line 1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>表的外键值只能是所依赖的外键字段所对因的字段的值的集合中的一个</p> <ul><li><p>外键是是否可以为null？可以为null</p></li> <li><p>外键字段引用的字段必须是主键吗？不是，但是引用的字段必须是具有唯一性（unique约束）的</p></li></ul> <h3 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h3> <ul><li><ol><li>什么是子查询？子查询可以出现在哪里？</li></ol></li></ul> <p>select语句当中嵌套select语句，被嵌套的select语句是子查询</p> <p>子查询可以出现在哪里？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select
  ...(select).
from
  ...(select).
where
  ...(select).
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>1.1 where子句中使用子查询</li></ul> <p>找出高于平均薪资的员工</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from emp where sal &gt; (selece avg(sal) from emp);
mysql&gt; select * from emp where sal &gt; (select avg(sal) from emp);
+-------+-------+-----------+------+------------+---------+------+--------+
| EMPNO | ENAME | JOB       | MGR  | HIREDATE   | SAL     | COMM | DEPTNO |
+-------+-------+-----------+------+------------+---------+------+--------+
|  7566 | JONES | MANAGER   | 7839 | 1981-04-02 | 2975.00 | NULL |     20 |
|  7698 | BLAKE | MANAGER   | 7839 | 1981-05-01 | 2850.00 | NULL |     30 |
|  7782 | CLARK | MANAGER   | 7839 | 1981-06-09 | 2450.00 | NULL |     10 |
|  7788 | SCOTT | ANALYST   | 7566 | 1987-04-19 | 3000.00 | NULL |     20 |
|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 | 5000.00 | NULL |     10 |
|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 | 3000.00 | NULL |     20 |
+-------+-------+-----------+------+------------+---------+------+--------+
6 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>1.2在from后面嵌套子查询</li></ul> <p>找出每个部门平均薪水的薪资等级</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select
  fl.deptno,d.dname,fl.avgsal,s.grade
from
  (select avg(sal) avgsal,deptno from emp group by deptno) fl
join
  dept d
on
  d.deptno=fl.deptno
join
  salgrade s
on
fl.avgsal between s.losal and s.hisal
order by
  fl.avgsal desc
;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select
    -&gt;   fl.deptno,d.dname,fl.avgsal,s.grade
    -&gt; from
    -&gt;   (select avg(sal) avgsal,deptno from emp group by deptno) fl
    -&gt; join
    -&gt;   dept d
    -&gt; on
    -&gt;   d.deptno=fl.deptno
    -&gt; join
    -&gt;   salgrade s
    -&gt; on
    -&gt; fl.avgsal between s.losal and s.hisal;
+--------+------------+-------------+-------+
| deptno | dname      | avgsal      | grade |
+--------+------------+-------------+-------+
|     30 | SALES      | 1566.666667 |     3 |
|     10 | ACCOUNTING | 2916.666667 |     4 |
|     20 | RESEARCH   | 2175.000000 |     4 |
+--------+------------+-------------+-------+
3 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>1.3 在select后面嵌套子查询</li></ul> <p>找出每个员工所在的部门名称，要救显示员工名和部门名</p> <p>之前的写法</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename,d.dname from emp e join dept d on e.deptno=d.deptno;
+--------+------------+
| ename  | dname      |
+--------+------------+
| CLARK  | ACCOUNTING |
| KING   | ACCOUNTING |
| MILLER | ACCOUNTING |
| SMITH  | RESEARCH   |
| JONES  | RESEARCH   |
| SCOTT  | RESEARCH   |
| ADAMS  | RESEARCH   |
| FORD   | RESEARCH   |
| ALLEN  | SALES      |
| WARD   | SALES      |
| MARTIN | SALES      |
| BLAKE  | SALES      |
| TURNER | SALES      |
| JAMES  | SALES      |
+--------+------------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>可以换一种写法</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; select e.ename,(select d.dname from dept d where d.deptno=e.deptno) dname from emp e;
+--------+------------+
| ename  | dname      |
+--------+------------+
| SMITH  | RESEARCH   |
| ALLEN  | SALES      |
| WARD   | SALES      |
| JONES  | RESEARCH   |
| MARTIN | SALES      |
| BLAKE  | SALES      |
| CLARK  | ACCOUNTING |
| SCOTT  | RESEARCH   |
| KING   | ACCOUNTING |
| TURNER | SALES      |
| ADAMS  | RESEARCH   |
| JAMES  | SALES      |
| FORD   | RESEARCH   |
| MILLER | ACCOUNTING |
+--------+------------+
14 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h3> <ul><li>什么是索引？有什么用？怎么创建？怎么删除？什么考虑给字段添加索引</li></ul> <ol><li><p>索引就相当于一本书的目录，通过目录可以快速找到对应的资源
在数据库方面，查询一张表的时候有两种索引方式：
第一种：全表扫描
第二种：根据索引检索（效率很高）</p></li> <li><p>索引为什么可以提高检索效率，其实就是减小了扫描范围
注意：索引虽然可以提高检索效率，但是不能随意添加索引，因为索引也是数据库当中的对象，也需要数据库不断的维护，是由维护成本的，eg：标中的数据经常被修改这样就不合适添加索引，因为数据一旦修改，索引需要重新排序，进行维护</p></li></ol> <p>select ename,sal from where ename='SMISH';</p> <ol start="3"><li>数据量庞大、该字段很少的DML操作、该字段经常出现在where子句中</li></ol> <p>注意：主键和具有unique约束的字段会自动添加索引---&gt; 根据主键查询会快</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; explain select ename,sal from emp where sal=5000;
+----+-------------+-------+------+---------------+------+---------+------+------+-------------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra       |
+----+-------------+-------+------+---------------+------+---------+------+------+-------------+
|  1 | SIMPLE      | emp   | ALL  | NULL          | NULL | NULL    | NULL |   14 | Using where |
+----+-------------+-------+------+---------------+------+---------+------+------+-------------+
1 row in set (0.04 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>create index emp_sal_index on emp(sal);

mysql&gt; create index emp_sal_index on emp(sal);
Query OK, 0 rows affected (0.09 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; explain select ename,sal from emp where sal=5000;
+----+-------------+-------+------+---------------+---------------+---------+-------+------+-------------+
| id | select_type | table | type | possible_keys | key           | key_len | ref   | rows | Extra       |
+----+-------------+-------+------+---------------+---------------+---------+-------+------+-------------+
|  1 | SIMPLE      | emp   | ref  | emp_sal_index | emp_sal_index | 9       | const |    1 | Using where |
+----+-------------+-------+------+---------------+---------------+---------+-------+------+-------------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="4"><li>drop index 索引字段 on 表名；</li></ol> <ul><li>索引底层采用的数据结构的是： B+Tree缩小扫描范围，底层索引进行了排序，分区，索引会携带数据在标中的“物理地址”，最终通过索引检索数据之后，获取到关联的物理地址，通过物理地址定位标中的数据，效率是最高的</li></ul> <p>select ename from emp where ename='smith';
通过索引转换为：
select ename from emp where 物理地址=0x3;</p> <ul><li><p>索引的分类？
单一索引：给单个字段添加索引
复合索引：给多个字段联合起来添加1个索引
主键索引：给多个字段联合起来添加1个索引
唯一索引：有unique约束的字段会自动添加索引</p></li> <li><p>索引什么时候失效？
select ename from emp where ename like '%A%';</p></li></ul> <p>模糊查询的时候，第一个通配符使用的是%，这个时候索引是失效的。</p> <h3 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h3> <ol><li>什么是事务</li></ol> <p>一个事务是一个完整的业务逻辑单元，不可再分eg：银行账户转账，从账户A-&gt;账户B转账10000.需要执行update语句</p> <p>update t_act set balance = balance - 10000 where acino='act-001';</p> <p>update t_act set balance = balance + 10000 where acino='act-002';</p> <p>这两项操作只能同时成功和同事失败，不允许一条成功一条失败</p> <p>要保证以上的两天DML语句同事成功或者失败，那么需要使用数据库的“事务机制”</p> <ol start="2"><li>和事务相关的语句只有：DML语句。（insert delete update）</li></ol> <p>为什么？因为他们这三个语句都是数据库表中的数据相关的</p> <p>事务的存在是为了保证数据的完整性，安全性</p> <ol start="3"><li>假设所有的业务都能使用1条DML语句搞定，还需要事务机制吗？不需要，但是显然实际情况不是这样的咯，一个事情（业务）肯定是很容易需要多个DML语句完成的</li></ol> <p>事务：TCL（commit、rollback、savepoint）</p> <ol start="4"><li>事务的特性？ACID</li></ol> <p>A:原子性：事务是最小的工作单元</p> <p>C:一致性：事务必须保证多条DML语句同时成功或者同时失败</p> <p>I:隔离性：事务A与事务B之间具有隔离</p> <p>D:持久性：最终数据持久化到硬盘文件中，事务才算成功的结束</p> <ol start="5"><li>关于事务之间的隔离性</li></ol> <p>事务隔离性存在个理级别，理论上隔离级别包括4个：</p> <p>第一级别：</p> <p>读未提交（read uncommitted）：对方事务还没有提交，而我就可以读取到未提交的数据了，这种存在脏读现象，表示读到了脏数据</p> <p>第二级别：</p> <p>读已提交（read committed）：对方提交之后的数据，我方可以读取，</p> <p>解决了脏读现象</p> <p>存在的问题是：不可重复读</p> <p>第三级别：</p> <p>可重复读（repeatable read）：</p> <p>这种级别解决了，不可重复读的问题</p> <p>这种隔离级别存在的问题：读取到的数据是幻象</p> <p>第四级别：</p> <p>序列化读/串行化读</p> <p>解决了所有问题</p> <p>存在的问题：效率低，需要事务排队</p> <p>Oracle数据库默认级别是：读已提交</p> <p>MySQL数据库默认级别是：可重复读</p> <ol start="6"><li>演示事务</li></ol> <ul><li>mysql事务默认情况下是自动提交。（只要执行任意一条DML语句则提交一次）</li></ul> <p>怎么关闭呢？start transaction</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; create table t_user(
    -&gt; id int primary key auto_increment,
    -&gt; username varchar(255)
    -&gt; );
Query OK, 0 rows affected (0.04 sec)

mysql&gt; insert into t_user(username) values('zs');
Query OK, 1 row affected (0.02 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
+----+----------+
1 row in set (0.00 sec)

mysql&gt; rollback;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
+----+----------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>证明了自动提交</p> <ul><li>使用start transaction 关闭自动提交，也是再说开始一个事务（之后出现rollback/commit）事务关闭</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t_user (username) values('zs1');
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
|  2 | zs1      |
+----+----------+
2 rows in set (0.00 sec)

mysql&gt; insert into t_user (username) values('ls');
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
|  2 | zs1      |
|  3 | ls       |
+----+----------+
3 rows in set (0.00 sec)

mysql&gt; rollback;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
+----+----------+
1 row in set (0.00 sec)

mysql&gt; start transaction;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; insert into t_user(username) values('zs');
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into t_user(username) values('zs1');
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into t_user(username) values('ls');
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
|  4 | zs       |
|  5 | zs1      |
|  6 | ls       |
+----+----------+
4 rows in set (0.00 sec)

mysql&gt; commit;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; select * from t_user;
+----+----------+
| id | username |
+----+----------+
|  1 | zs       |
|  4 | zs       |
|  5 | zs1      |
|  6 | ls       |
+----+----------+
4 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><ul><li>设置事务隔离级别： set global transaction isolation level read uncommitted;</li></ul> <ul><li>查看事务全局的隔离级别：select @@global.tx_isolation;</li></ul> <h2 id="网站开发"><a href="#网站开发" class="header-anchor">#</a> 网站开发</h2> <p>一直想形成一套自己的开发标准，包括前端开发（vue/react）、服务端开发（nodejs）、运维部署等，这两天有点时间，把整套流程跑了一遍，中间遇到了一些问题作为一个我这么个前端菜鸟来说有点难的点，给记录下来，我以两个例子来记录整个过程</p> <h3 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h3> <ol><li><p>购买一台服务器，不用太贵太好的，主要是练手，等技术提升起来了或者访问量上去了再去换一个好的服务器，我购买的是腾讯云的服务器</p></li> <li><p>最好购买一个域名，也可以不买，主要是担心 IP 不好记，也别买太贵的，这个更没必要的</p></li> <li><p>下载一个 FileZilla，将本地文件上传到服务器</p></li></ol> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>先是一顿安装这个是免不了的，操作按照 linux 的操作习惯，我自己一点 linux 的基础都没有，全是网上查资料的</p> <h4 id="_1-安装-nodejs"><a href="#_1-安装-nodejs" class="header-anchor">#</a> 1. 安装 nodeJS</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 如果没有src可以先cd /usr/local mkdir src</span>
<span class="token builtin class-name">cd</span> /usr/local/src
<span class="token comment">## 下载</span>
<span class="token function">wget</span> https://nodejs.org/dist/v12.19.0/node-v12.19.0-linux-x64.tar.xz
<span class="token comment">## 解压</span>
<span class="token function">tar</span> zxvf node-v12.19.0-linux-x64.tar.xz
<span class="token comment">## 重新命名一下</span>
<span class="token function">mv</span> node-v12.19.0-linux-x64.tar.xz nodeJS
<span class="token comment">## 查看是否安装成功并查看版本</span>
<span class="token builtin class-name">cd</span> nodeJS
./bin/node <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果以上都是可以进行的话说明安装成功了，但是命令还不是属于全局的，设置一下软连接</p> <blockquote><p>除了系统自带的命令，我们第三方安装的包需要全局都会在/usr/local/bin 下面</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/src/nodeJS/bin/npm /usr/local/bin
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/src/nodeJS/bin/node /usr/local/node
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/src/nodeJS/bin/npx /usr/local/npx
<span class="token builtin class-name">cd</span> ~
<span class="token function">npm</span> <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果能够查询到版本的话，node 的相关就是安装成功，中间如果遇到其他什么问题留言我们一起交流，虽然我也不是很会</p> <h4 id="_2-安装-pm2"><a href="#_2-安装-pm2" class="header-anchor">#</a> 2. 安装 pm2</h4> <p>为什么要使用 <a href="https://pm2.keymetrics.io/" target="_blank" rel="noopener noreferrer">pm2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>我们在本地管理项目的时候一般使用的就是 npm 就够了，但是这样有一点不好就是退出控制台的时候 npm 会挺，npm 也不方便我们查看相关的信息一起日志这样的</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> i pm2 <span class="token parameter variable">-g</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-安装-mongodb"><a href="#_3-安装-mongodb" class="header-anchor">#</a> 3. 安装 mongodb</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 下载</span>
<span class="token function">wget</span> https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-amazon-4.4.1.tgz
<span class="token comment">## 解压</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> mongodb-linux-x86_64-amazon-4.4.1.tgz
<span class="token comment">## 重命名</span>
<span class="token function">mv</span> mongodb-src-r4.4.1  mongodb
<span class="token comment">## 软连接</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/src/mongodb/bin/mongo /usr/local/mongo
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/src/mongodb/bin/mongod /usr/local/mongod
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/src/mongodb/bin/mongos /usr/local/mongos
<span class="token comment">## 新建初始化目录</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /var/lib/mongo
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /var/log/mongodb
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span> /var/lib/mongo     <span class="token comment">## 设置权限</span>
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span> /var/log/mongodb   <span class="token comment">## 设置权限</span>
<span class="token comment">## 启动mongon</span>
mongod <span class="token parameter variable">--dbpath</span> /var/lib/mongo <span class="token parameter variable">--logpath</span> /var/log/mongodb/mongod.log <span class="token parameter variable">--fork</span>
<span class="token comment">## 查看日志</span>
<span class="token function">tail</span> <span class="token parameter variable">-10f</span> /var/log/mongodb/mongod.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_4-安装-nginx"><a href="#_4-安装-nginx" class="header-anchor">#</a> 4. 安装 Nginx</h4> <p>其实只需要上面的那三点就可以将我们的服务跑起来了，但 Nginx 迟早也是要安装的，就一块安装了吧</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## yum安装，一般买服务器都会自带的yum命令，没有的话可以在网上找一下如何安装yum</span>
yum <span class="token function">install</span> nginx
<span class="token comment">## 备注：也可以源码安装，但是有点繁琐，源码安装肯定是最好的</span>
<span class="token comment">## 启动nginx</span>
<span class="token function">service</span> nginx start
<span class="token comment">## 其他命令</span>

systemctl <span class="token builtin class-name">enable</span> nginx <span class="token comment">## 设置开机启动</span>

<span class="token function">service</span> nginx start <span class="token comment">## 启动 nginx 服务</span>

<span class="token function">service</span> nginx stop <span class="token comment">## 停止 nginx 服务</span>

<span class="token function">service</span> nginx restart <span class="token comment">## 重启 nginx 服务</span>

<span class="token function">service</span> nginx reload <span class="token comment">## 重新加载配置，一般是在修改过 nginx 配置文件时使用。</span>

<span class="token comment">## 备注：有一些如果没有权限的话添加sudo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="上传本地文件到远端"><a href="#上传本地文件到远端" class="header-anchor">#</a> 上传本地文件到远端</h3> <ol start="0"><li>现在远端建立我放文件的地方</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">mkdir</span> run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li><p>如果是整个项目上传，像 node 这样的直接通过 FillZilla 上传就可以，注意不要上传 node——modules，太大了，我们已经安装了 node，可以直接在服务器上面安装就可以</p></li> <li><p>如果是前端静态文件的话，直接将打包后的文件上传就可</p></li></ol> <h3 id="启动项目"><a href="#启动项目" class="header-anchor">#</a> 启动项目</h3> <p>如果是一个 node 项目的我们用 pm2 启动的话，最好加一个配置(建立一个与 package.json 同级的 config)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">apps</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;interface&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">script</span><span class="token operator">:</span> <span class="token string">&quot;server/app.js&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">instances</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exec_mode</span><span class="token operator">:</span> <span class="token string">&quot;cluster&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">log_date_format</span><span class="token operator">:</span> <span class="token string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">max_memory_restart</span><span class="token operator">:</span> <span class="token string">&quot;1024M&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在项目的 package.json 中添加</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;...&quot;</span><span class="token operator">:</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;prd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pm2 start ./config/ecosystem.config.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reload&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pm2 reload all&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;...&quot;</span><span class="token operator">:</span> <span class="token string">&quot;...&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样我们的服务就可以跑起来了</p> <h3 id="nginx-配置域名"><a href="#nginx-配置域名" class="header-anchor">#</a> nginx 配置域名</h3> <p>不多说直接上代码吧</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>user root<span class="token punctuation">;</span>
worker_processes auto<span class="token punctuation">;</span>
error_log /var/log/nginx/error.log<span class="token punctuation">;</span>
pid /run/nginx.pid<span class="token punctuation">;</span>

<span class="token comment">## Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span>
include /usr/share/nginx/modules/*.conf<span class="token punctuation">;</span>

events <span class="token punctuation">{</span>
    worker_connections <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
    log_format  main  <span class="token string">'$remote_addr - $remote_user [$time_local] &quot;$request&quot; '</span>
                      <span class="token string">'$status $body_bytes_sent &quot;$http_referer&quot; '</span>
                      <span class="token string">'&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;'</span><span class="token punctuation">;</span>

    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>

    sendfile            on<span class="token punctuation">;</span>
    tcp_nopush          on<span class="token punctuation">;</span>
    tcp_nodelay         on<span class="token punctuation">;</span>
    keepalive_timeout   <span class="token number">65</span><span class="token punctuation">;</span>
    types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span>

    include             /etc/nginx/mime.types<span class="token punctuation">;</span>
    default_type        application/octet-stream<span class="token punctuation">;</span>

    <span class="token comment">## Load modular configuration files from the /etc/nginx/conf.d directory.</span>
    <span class="token comment">## See http://nginx.org/en/docs/ngx_core_module.html#include</span>
    <span class="token comment">## for more information.</span>
    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>
    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>

    sendfile            on<span class="token punctuation">;</span>
    tcp_nopush          on<span class="token punctuation">;</span>
    tcp_nodelay         on<span class="token punctuation">;</span>
    keepalive_timeout   <span class="token number">65</span><span class="token punctuation">;</span>
    types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span>

    include             /etc/nginx/mime.types<span class="token punctuation">;</span>
    default_type        application/octet-stream<span class="token punctuation">;</span>
    <span class="token comment">## Load modular configuration files from the /etc/nginx/conf.d directory.</span>
    <span class="token comment">## See http://nginx.org/en/docs/ngx_core_module.html#include</span>
    <span class="token comment">## for more information.</span>
    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>
    <span class="token comment">## api文档信息</span>
    server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  api.liaoxuan.run<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
            proxy_pass http://127.0.0.1:3000/<span class="token punctuation">;</span>
            proxy_redirect off<span class="token punctuation">;</span>
            proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
            <span class="token comment">#后端的Web服务器可以通过X-Forwarded-For获取用户真实IP</span>
            proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
            <span class="token comment">#以下是一些反向代理的配置，可选。</span>
            proxy_set_header Host <span class="token variable">$host</span><span class="token punctuation">;</span>
            client_max_body_size 10m<span class="token punctuation">;</span> <span class="token comment">#允许客户端请求的最大单文件字节数</span>
            client_body_buffer_size 128k<span class="token punctuation">;</span> <span class="token comment">#缓冲区代理缓冲用户端请求的最大字节数，</span>
            proxy_connect_timeout <span class="token number">90</span><span class="token punctuation">;</span> <span class="token comment">#nginx跟后端服务器连接超时时间(代理连接超时)</span>
            proxy_send_timeout <span class="token number">90</span><span class="token punctuation">;</span> <span class="token comment">#后端服务器数据回传时间(代理发送超时)</span>
            proxy_read_timeout <span class="token number">90</span><span class="token punctuation">;</span> <span class="token comment">#连接成功后，后端服务器响应时间(代理接收超时)</span>
            proxy_buffer_size 4k<span class="token punctuation">;</span> <span class="token comment">#设置代理服务器（nginx）保存用户头信息的缓冲区大小</span>
            proxy_buffers <span class="token number">4</span> 32k<span class="token punctuation">;</span> <span class="token comment">#proxy_buffers缓冲区，网页平均在32k以下的设置</span>
            proxy_busy_buffers_size 64k<span class="token punctuation">;</span> <span class="token comment">#高负荷下缓冲大小（proxy_buffers*2）</span>
            proxy_temp_file_write_size 64k<span class="token punctuation">;</span>
            <span class="token comment">#设定缓存文件夹大小，大于这个值，将从upstream服务器传</span>
        <span class="token punctuation">}</span>
        error_page <span class="token number">404</span> /404.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /404.html <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
        error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> /50x.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">## 表单网站信息</span>
    server <span class="token punctuation">{</span>
      listen    <span class="token number">80</span><span class="token punctuation">;</span>
      server_name  form.liaoxuan.run<span class="token punctuation">;</span>
      root      /root/run/form<span class="token punctuation">;</span>
      location / <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
      error_page <span class="token number">404</span> /404.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /404.html <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
      error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> /50x.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">## 默认的首页，之后会添加相关的信息到首页</span>
    server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span> default_server<span class="token punctuation">;</span>
        listen       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 default_server<span class="token punctuation">;</span>
        server_name  www.liaoxuan.run<span class="token punctuation">;</span>
        root         /root/run<span class="token punctuation">;</span>
        <span class="token comment">## Load configuration files for the default server block.</span>
        include /etc/nginx/default.d/*.conf<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">## Settings for a TLS enabled server.</span>
    server <span class="token punctuation">{</span>
        listen       <span class="token number">443</span><span class="token punctuation">;</span>
        server_name  _<span class="token punctuation">;</span>
        root         /usr/share/nginx/html<span class="token punctuation">;</span>
        <span class="token comment">## Load configuration files for the default server block.</span>
        include /etc/nginx/default.d/*.conf<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
        error_page <span class="token number">404</span> /404.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /404.html <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
        error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> /50x.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br></div></div><blockquote><ol><li>api.liaoxuan.run 是 api 网站，需要自己启动服务的，需要代理</li> <li>form.liaoxuan.run 是静态文件，直接利用 nginx 指定位置就可以，不需要代理</li></ol></blockquote></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">December 23, 2022 13:14</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: salvatoreliaoxuan@didiglobal.com" class="contributor">
          salvatoreliaoxuan
        </span> , <span title="email: liaoxuan@sougo-inc.com" class="contributor">
          liaoxuan
        </span> , <span title="email: salvatoreliaoxuan@didiglobal.com" class="contributor">
          廖轩
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/posts/TypeScript/%E9%9D%A2%E8%AF%95/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        面试
      </a></span> <span class="next"><a href="/posts/nodeJS/cli/">
        脚手架开发
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.69479025.js" defer></script><script src="/assets/js/layout-Layout.6a9f3724.js" defer></script><script src="/assets/js/page-基础知识.b49ea14d.js" defer></script>
  </body>
</html>
