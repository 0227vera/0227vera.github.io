<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试 | salvatore&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="Live is what? Get busy living, Or get busy dying">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.a8743741.css" as="style"><link rel="preload" href="/assets/js/app.69479025.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.6a9f3724.js" as="script"><link rel="preload" href="/assets/js/page-面试.055e9814.js" as="script"><link rel="prefetch" href="/assets/js/182.510c2950.js"><link rel="prefetch" href="/assets/js/183.570acdd9.js"><link rel="prefetch" href="/assets/js/184.441fc1f5.js"><link rel="prefetch" href="/assets/js/185.00381cab.js"><link rel="prefetch" href="/assets/js/186.7decc84e.js"><link rel="prefetch" href="/assets/js/187.cbd7c30a.js"><link rel="prefetch" href="/assets/js/188.14b9347a.js"><link rel="prefetch" href="/assets/js/189.c3e75fcf.js"><link rel="prefetch" href="/assets/js/190.787f6bf6.js"><link rel="prefetch" href="/assets/js/191.3a644dc6.js"><link rel="prefetch" href="/assets/js/192.bb43782a.js"><link rel="prefetch" href="/assets/js/layout-Blog.9bc8887b.js"><link rel="prefetch" href="/assets/js/layout-NotFound.c9164e67.js"><link rel="prefetch" href="/assets/js/layout-Slide.af641d0a.js"><link rel="prefetch" href="/assets/js/layout-components/AlgoliaSearch/Dropdown.ec5c9162.js"><link rel="prefetch" href="/assets/js/layout-components/Anchor.16472954.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleInfo.779bb5e4.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleItem.242d2c0c.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleList.951e60bd.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ArticleType.9fbb695a.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogHero.4e850e3b.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogHome.b100afe6.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogInfo.526f0831.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BlogPage.b09fed94.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/BloggerInfo.f6ab82c8.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/CategoryList.b4c2773c.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/ProjectList.6f8a37dd.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/TagList.1ba87d52.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/Timeline.349197d5.js"><link rel="prefetch" href="/assets/js/layout-components/Blog/TimelineList.f1383eaf.js"><link rel="prefetch" href="/assets/js/layout-components/Clipboard.882af9f7.js"><link rel="prefetch" href="/assets/js/layout-components/Common.1a4f4bc8.js"><link rel="prefetch" href="/assets/js/layout-components/Home.1400ad44.js"><link rel="prefetch" href="/assets/js/layout-components/MyTransition.a7bb6056.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/DropdownLink.a89c6d2a.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/NavLink.2d0da3b6.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/NavLinks.723d3101.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/Navbar.4f367839.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/RepoLink.7c491762.js"><link rel="prefetch" href="/assets/js/layout-components/Navbar/SidebarButton.e8fae3ce.js"><link rel="prefetch" href="/assets/js/layout-components/Page.1d1bf77d.js"><link rel="prefetch" href="/assets/js/layout-components/PageFooter.c9280247.js"><link rel="prefetch" href="/assets/js/layout-components/PageMeta.fe5a656e.js"><link rel="prefetch" href="/assets/js/layout-components/PageNav.344f0727.js"><link rel="prefetch" href="/assets/js/layout-components/Password.562c7a23.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/DropdownTransition.9363518b.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/Sidebar.2dcffdee.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarDropdownLink.88deef58.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarGroup.10359c5c.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarLink.b16f4846.js"><link rel="prefetch" href="/assets/js/layout-components/Sidebar/SidebarNavLinks.32615b5e.js"><link rel="prefetch" href="/assets/js/layout-components/Theme/DarkmodeSwitch.f142a4c2.js"><link rel="prefetch" href="/assets/js/layout-components/Theme/ThemeColor.067cb532.js"><link rel="prefetch" href="/assets/js/layout-components/Theme/ThemeOptions.f687c56d.js"><link rel="prefetch" href="/assets/js/layout-icons/ArticleIcon.c647f97f.js"><link rel="prefetch" href="/assets/js/layout-icons/AutoIcon.a50e7a56.js"><link rel="prefetch" href="/assets/js/layout-icons/BookIcon.4ff51083.js"><link rel="prefetch" href="/assets/js/layout-icons/DarkIcon.d3bb810a.js"><link rel="prefetch" href="/assets/js/layout-icons/EditIcon.1e221694.js"><link rel="prefetch" href="/assets/js/layout-icons/EmptyIcon.0f80ad02.js"><link rel="prefetch" href="/assets/js/layout-icons/I18nIcon.9ffb54ee.js"><link rel="prefetch" href="/assets/js/layout-icons/LightIcon.28c71f8e.js"><link rel="prefetch" href="/assets/js/layout-icons/LinkIcon.624c2eaf.js"><link rel="prefetch" href="/assets/js/layout-icons/LockIcon.72e1b7b2.js"><link rel="prefetch" href="/assets/js/layout-icons/NextIcon.50ae0931.js"><link rel="prefetch" href="/assets/js/layout-icons/Page404Icon.4bad371e.js"><link rel="prefetch" href="/assets/js/layout-icons/PresentationIcon.7b08ec86.js"><link rel="prefetch" href="/assets/js/layout-icons/PrevIcon.fadb85cd.js"><link rel="prefetch" href="/assets/js/layout-icons/ProjectIcon.055198e4.js"><link rel="prefetch" href="/assets/js/layout-icons/StickyIcon.7d31699b.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Baidu.c14dfe7d.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Bitbucket.c495dbb8.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Dingding.896c0555.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Discord.755e6e78.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Dribbble.03eebe8d.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Email.c0206ca0.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Evernote.473017c2.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Facebook.ce481070.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Flipboard.7aae0a58.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Gitee.d681c87c.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Github.b68020ec.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Gitlab.b838b182.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Gmail.2e834b78.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Instagram.55e1b282.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Lines.bbe38f35.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Linkedin.4775e6d7.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Pinterest.27381bc4.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Pocket.098f80b7.js"><link rel="prefetch" href="/assets/js/layout-icons/media/QQ.fbb2c44b.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Qzone.caa0f039.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Reddit.da884cd0.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Rss.39b20e2d.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Steam.ccd31ee6.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Twitter.40858c98.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Wechat.b53d8ab2.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Weibo.7e88aa3f.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Whatsapp.f178cacb.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Youtube.21719073.js"><link rel="prefetch" href="/assets/js/layout-icons/media/Zhihu.5d28012a.js"><link rel="prefetch" href="/assets/js/page--6f95f1c7.cb0629d1.js"><link rel="prefetch" href="/assets/js/page-20200925.c414f240.js"><link rel="prefetch" href="/assets/js/page-20201015.d64d9bc5.js"><link rel="prefetch" href="/assets/js/page-20201102.f0c4f174.js"><link rel="prefetch" href="/assets/js/page-20201125.22a96004.js"><link rel="prefetch" href="/assets/js/page-20201207.da761711.js"><link rel="prefetch" href="/assets/js/page-20201218.d9c42c6e.js"><link rel="prefetch" href="/assets/js/page-20210122.c758ff60.js"><link rel="prefetch" href="/assets/js/page-20210220.f33d5cdb.js"><link rel="prefetch" href="/assets/js/page-20210409.24bb635f.js"><link rel="prefetch" href="/assets/js/page-20210620.23bc3957.js"><link rel="prefetch" href="/assets/js/page-20210829.e21610ba.js"><link rel="prefetch" href="/assets/js/page-20220614.fed8cdfe.js"><link rel="prefetch" href="/assets/js/page-CSS.449ab100.js"><link rel="prefetch" href="/assets/js/page-CSS面试整理.5ddfa664.js"><link rel="prefetch" href="/assets/js/page-ES6对象面试题整理.a4193a05.js"><link rel="prefetch" href="/assets/js/page-H5中遇到的问题.5b2e89c6.js"><link rel="prefetch" href="/assets/js/page-HTML.d525a009.js"><link rel="prefetch" href="/assets/js/page-HTTP1x-HTTP2-HTTPS.fcfee315.js"><link rel="prefetch" href="/assets/js/page-HTTP常见的状态码以及对应的含义.189bcd57.js"><link rel="prefetch" href="/assets/js/page-Home.72228d9c.js"><link rel="prefetch" href="/assets/js/page-JSONWEBTOKEN.f9c6525b.js"><link rel="prefetch" href="/assets/js/page-Module.3c6a67c0.js"><link rel="prefetch" href="/assets/js/page-PC桌面开发.92d8e6dc.js"><link rel="prefetch" href="/assets/js/page-Promise.d28ddcc1.js"><link rel="prefetch" href="/assets/js/page-ReactNatice.0136a177.js"><link rel="prefetch" href="/assets/js/page-Set-Map.00213e1b.js"><link rel="prefetch" href="/assets/js/page-TCP的三次握手四次挥手的相关知识.017982cd.js"><link rel="prefetch" href="/assets/js/page-class.84e48d72.js"><link rel="prefetch" href="/assets/js/page-css中的问题.66fb89c7.js"><link rel="prefetch" href="/assets/js/page-dev-server.ac51207a.js"><link rel="prefetch" href="/assets/js/page-eslint.89f916ea.js"><link rel="prefetch" href="/assets/js/page-git基本操作.85c2d29d.js"><link rel="prefetch" href="/assets/js/page-git提交规范.1ca4ac49.js"><link rel="prefetch" href="/assets/js/page-html中的问题.b2c81c6f.js"><link rel="prefetch" href="/assets/js/page-html面试整理.0b85c07c.js"><link rel="prefetch" href="/assets/js/page-js中的问题.c668f66d.js"><link rel="prefetch" href="/assets/js/page-js工具方法.f4c3dfaf.js"><link rel="prefetch" href="/assets/js/page-js整理.5f7fff32.js"><link rel="prefetch" href="/assets/js/page-js的数据类型及其检测.6edfc57c.js"><link rel="prefetch" href="/assets/js/page-js面试整理.1478fdcb.js"><link rel="prefetch" href="/assets/js/page-loader.ef227444.js"><link rel="prefetch" href="/assets/js/page-method.9efbb891.js"><link rel="prefetch" href="/assets/js/page-plop.a88fb1c4.js"><link rel="prefetch" href="/assets/js/page-polyfill.4cfcc859.js"><link rel="prefetch" href="/assets/js/page-rollup.acb78c24.js"><link rel="prefetch" href="/assets/js/page-vim基本操作.a0dbc963.js"><link rel="prefetch" href="/assets/js/page-vite.2789a38a.js"><link rel="prefetch" href="/assets/js/page-vscode.3f003b71.js"><link rel="prefetch" href="/assets/js/page-vue项目webpack升级笔记.e1d53802.js"><link rel="prefetch" href="/assets/js/page-webpack.4df47041.js"><link rel="prefetch" href="/assets/js/page-主页.21704547.js"><link rel="prefetch" href="/assets/js/page-事件循环（EventLoop）.11f26e13.js"><link rel="prefetch" href="/assets/js/page-写在前.fb243754.js"><link rel="prefetch" href="/assets/js/page-变量（var、let、const）.0268ab37.js"><link rel="prefetch" href="/assets/js/page-基本算法.885a7418.js"><link rel="prefetch" href="/assets/js/page-基础信息.9915d89c.js"><link rel="prefetch" href="/assets/js/page-基础知识.b49ea14d.js"><link rel="prefetch" href="/assets/js/page-多个请求如何书写.46b16477.js"><link rel="prefetch" href="/assets/js/page-字节面试准备.ab66eb6f.js"><link rel="prefetch" href="/assets/js/page-对象（Object）.e3358c40.js"><link rel="prefetch" href="/assets/js/page-小程序.f623e56c.js"><link rel="prefetch" href="/assets/js/page-小程序的相关知识点.542964fb.js"><link rel="prefetch" href="/assets/js/page-尾调用.0ad8ec5e.js"><link rel="prefetch" href="/assets/js/page-工具函数.12fe3f3d.js"><link rel="prefetch" href="/assets/js/page-常见案例.175ccdbc.js"><link rel="prefetch" href="/assets/js/page-常见的代码问题.1b641ba6.js"><link rel="prefetch" href="/assets/js/page-微前端.5c95579c.js"><link rel="prefetch" href="/assets/js/page-数据结构-链表.33a0309d.js"><link rel="prefetch" href="/assets/js/page-数组(Array).e7e3d9bb.js"><link rel="prefetch" href="/assets/js/page-正则.27d7c1e9.js"><link rel="prefetch" href="/assets/js/page-注释.60e7ad9e.js"><link rel="prefetch" href="/assets/js/page-浏览器相关.d8f2250f.js"><link rel="prefetch" href="/assets/js/page-算法.e4c27dc3.js"><link rel="prefetch" href="/assets/js/page-箭头函数.4215f043.js"><link rel="prefetch" href="/assets/js/page-脚手架开发.04dc394a.js"><link rel="prefetch" href="/assets/js/page-解构.3fa805e7.js"><link rel="prefetch" href="/assets/js/page-面向对象.8aa0bf5f.js"><link rel="prefetch" href="/assets/js/page-面试整理.46f3f237.js"><link rel="prefetch" href="/assets/js/page-面试题.a22ec9fb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d217d160.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.6e0aadc3.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.91481c77.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Common~layout-components/Page.af6a19fa.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/AlgoliaSearch/Full.54e594e4.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Blog/ArticleList~layout-components/Blog/BlogHome~layout-components/Blog/BlogPage.d8a82ccb.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Navbar/Navbar.6c992749.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Page.686592e5.js"><link rel="prefetch" href="/assets/js/vendors~layout-components/Sidebar/Sidebar.57158bcc.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.6a23f182.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a8743741.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">salvatore's blog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-homefill"></i>
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-wode"></i>
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Posts" class="dropdown-title"><span class="title"><i class="iconfont icon-zhishidian"></i>
        Posts
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/posts/HTML/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><a href="/posts/CSS/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><a href="/posts/JavaScript/" class="nav-link router-link-active active"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><a href="/posts/Vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><a href="/posts/TypeScript/" class="nav-link"><i class="iconfont icon-typescript"></i>
  TypeScript
</a></li><li class="dropdown-item"><a href="/posts/nodeJS/" class="nav-link"><i class="iconfont icon-node"></i>
  nodeJS
</a></li><li class="dropdown-item"><a href="/posts/快应用和微前端/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  快应用和微前端
</a></li><li class="dropdown-item"><a href="/posts/工程化/" class="nav-link"><i class="iconfont icon-webpack"></i>
  工程化
</a></li><li class="dropdown-item"><a href="/posts/tool/" class="nav-link"><i class="iconfont icon-gongju"></i>
  前端工具
</a></li><li class="dropdown-item"><a href="/posts/internet/" class="nav-link"><i class="iconfont icon-wangluo"></i>
  网络相关
</a></li><li class="dropdown-item"><a href="/posts/question/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  常见问题
</a></li><li class="dropdown-item"><a href="/posts/算法扫盲/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  算法扫盲
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="interview" class="dropdown-title"><span class="title"><i class="iconfont icon-16"></i>
        interview
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/interview/html/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><a href="/interview/css/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><a href="/interview/javascript/" class="nav-link"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><a href="/interview/vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><a href="/posts/mp/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  小程序
</a></li><li class="dropdown-item"><a href="/posts/项目/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  项目相关
</a></li></ul></div></div><div class="nav-item"><a href="/essay/" class="nav-link"><i class="iconfont icon-16"></i>
  Essay
</a></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-homefill"></i>
  Home
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont icon-wode"></i>
  About
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Posts" class="dropdown-title"><span class="title"><i class="iconfont icon-zhishidian"></i>
      Posts
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/posts/HTML/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/posts/CSS/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/posts/JavaScript/" class="nav-link router-link-active active"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/posts/Vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/posts/TypeScript/" class="nav-link"><i class="iconfont icon-typescript"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/posts/nodeJS/" class="nav-link"><i class="iconfont icon-node"></i>
  nodeJS
</a></li><li class="dropdown-item"><!----> <a href="/posts/快应用和微前端/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  快应用和微前端
</a></li><li class="dropdown-item"><!----> <a href="/posts/工程化/" class="nav-link"><i class="iconfont icon-webpack"></i>
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/posts/tool/" class="nav-link"><i class="iconfont icon-gongju"></i>
  前端工具
</a></li><li class="dropdown-item"><!----> <a href="/posts/internet/" class="nav-link"><i class="iconfont icon-wangluo"></i>
  网络相关
</a></li><li class="dropdown-item"><!----> <a href="/posts/question/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/posts/算法扫盲/" class="nav-link"><i class="iconfont icon-changjianwentixiangguanwenti2"></i>
  算法扫盲
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="interview" class="dropdown-title"><span class="title"><i class="iconfont icon-16"></i>
      interview
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/html/" class="nav-link"><i class="iconfont icon-html5"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/interview/css/" class="nav-link"><i class="iconfont icon-css"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/interview/javascript/" class="nav-link"><i class="iconfont icon-javascript"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/interview/vue/" class="nav-link"><i class="iconfont icon-vue"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/posts/mp/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/posts/项目/" class="nav-link"><i class="iconfont icon-xiaochengxu"></i>
  项目相关
</a></li></ul></div></div><div class="nav-item"><a href="/essay/" class="nav-link"><i class="iconfont icon-16"></i>
  Essay
</a></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><i class="iconfont icon-html5"></i> <span class="title">HTML</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/posts/HTML/" class="sidebar-link">HTML</a></li><li><a href="/posts/HTML/%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/" class="sidebar-link">常见案例</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-css"></i> <span class="title">CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-javascript"></i> <span class="title">JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-vue"></i> <span class="title">Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-typescript"></i> <span class="title">TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-node"></i> <span class="title">nodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-xiaochengxu"></i> <span class="title">快应用和微前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-webpack"></i> <span class="title">工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-gongju"></i> <span class="title">前端工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-wangluo"></i> <span class="title">网络相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-changjianwentixiangguanwenti2"></i> <span class="title">常见问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-changjianwentixiangguanwenti2"></i> <span class="title">算法扫盲</span> <span class="arrow right"></span></p> <!----></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/posts/JavaScript/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">js整理</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">面试</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">面试</span></h1> <div class="page-info"><!----> <!----><span aria-label="Page views🔢" data-balloon-pos="down" defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/posts/JavaScript/%E9%9D%A2%E8%AF%95/" data-flag-title="面试" class="leancloud_visitors waline-visitor-count"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date📅" data-balloon-pos="down" defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-9-26</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 31 min</span> <meta property="timeRequired" content="PT31M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#target-和-currenttarget-区别" class="anchor-link heading2"><div>target 和 currentTarget 区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#事件委托" class="anchor-link heading2"><div>事件委托</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#事件循环" class="anchor-link heading2"><div>事件循环</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#如何自定义事件-原生-js-提供的事件" class="anchor-link heading2"><div>如何自定义事件（原生 js 提供的事件）</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#基础数据类型-原始数据类型-引用数据类型-数据类型判断" class="anchor-link heading2"><div>基础数据类型，原始数据类型，引用数据类型，数据类型判断</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#var、let-和-const-的问题" class="anchor-link heading2"><div>var、let 和 const 的问题</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#数组去重" class="anchor-link heading2"><div>数组去重</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#对象的深拷贝和浅拷贝" class="anchor-link heading2"><div>对象的深拷贝和浅拷贝</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#prototype-和-proto-的关系式什么" class="anchor-link heading2"><div>prototype 和 proto 的关系式什么</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#new-一个对象经历了什么-手写-new-关键字" class="anchor-link heading2"><div>new 一个对象经历了什么，手写 new 关键字</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#this" class="anchor-link heading2"><div>this</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#bind、call、apply-区别" class="anchor-link heading2"><div>bind、call、apply 区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#继承问题" class="anchor-link heading2"><div>继承问题</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#打印值" class="anchor-link heading2"><div>打印值</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#闭包问题" class="anchor-link heading2"><div>闭包问题</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#cookie、localstorage、sessionstorage-区别" class="anchor-link heading2"><div>cookie、localStorage、sessionStorage 区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#防抖和节流" class="anchor-link heading2"><div>防抖和节流</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#ajax" class="anchor-link heading2"><div>Ajax</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#同源策略" class="anchor-link heading2"><div>同源策略</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#跨域" class="anchor-link heading2"><div>跨域</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#http-问题" class="anchor-link heading2"><div>HTTP 问题</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#基本算法" class="anchor-link heading2"><div>基本算法</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#foreach-return-的问题" class="anchor-link heading2"><div>forEach return 的问题</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#如何理解面向对象-以及如何理解函数式编程" class="anchor-link heading2"><div>如何理解面向对象，以及如何理解函数式编程</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#浏览器的渲染过程" class="anchor-link heading2"><div>浏览器的渲染过程</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#浏览器的缓存机制" class="anchor-link heading2"><div>浏览器的缓存机制</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#浏览器的垃圾回收机制与内存泄漏" class="anchor-link heading2"><div>浏览器的垃圾回收机制与内存泄漏</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#_1-标记清除" class="anchor-link heading3"><div>1. 标记清除</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#_2-引用计数" class="anchor-link heading3"><div>2. 引用计数</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#内存管理" class="anchor-link heading3"><div>内存管理</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#防抖、节流" class="anchor-link heading2"><div>防抖、节流</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#闭包" class="anchor-link heading2"><div>闭包</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#写一个mysetinterval-fn-a-b-每次间隔-a-a-b-a-2b-a-nb-的时间-执行一次fn-然后写一个-myclear-停止上面的-mysetinterval" class="anchor-link heading2"><div>写一个mySetInterVal(fn, a, b),每次间隔 a,a+b,a+2b,...,a+nb 的时间，执行一次fn，然后写一个 myClear，停止上面的 mySetInterVal</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#实现-add-1-2-3" class="anchor-link heading2"><div>实现 add(1)(2)(3)</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#实现链式调用" class="anchor-link heading2"><div>实现链式调用</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#类数组和数组的区别-dom-的类数组如何转换成数组" class="anchor-link heading2"><div>类数组和数组的区别，dom 的类数组如何转换成数组</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#介绍下-promise-的特性、优缺点-内部是如何实现的-动手实现-promise" class="anchor-link heading2"><div>介绍下 promise 的特性、优缺点，内部是如何实现的，动手实现 Promise</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#手写发布订阅-手写一个eventbus" class="anchor-link heading2"><div>手写发布订阅（手写一个eventBus）</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#手写数组转树" class="anchor-link heading2"><div>手写数组转树</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#手写实现-array-flat" class="anchor-link heading2"><div>手写实现 Array.flat()</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#大数计算如何实现" class="anchor-link heading2"><div>大数计算如何实现</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#什么是深拷贝-和浅拷贝有什么区别-动手实现一个深拷贝" class="anchor-link heading2"><div>什么是深拷贝，和浅拷贝有什么区别，动手实现一个深拷贝</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#实现一个方法判断-html-中的标签是否闭合" class="anchor-link heading2"><div>实现一个方法判断 html 中的标签是否闭合</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#箭头函数和普通函数的区别" class="anchor-link heading2"><div>箭头函数和普通函数的区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#es5-实现-isinteger" class="anchor-link heading2"><div>es5 实现 isInteger</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#手写-dom-操作-翻转-li-标签-如何处理更优" class="anchor-link heading2"><div>手写 dom 操作，翻转 li 标签，如何处理更优</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#是否了解-glob-glob-是如何处理文件的-业界是否还有其它解决方案" class="anchor-link heading2"><div>是否了解 glob，glob 是如何处理文件的，业界是否还有其它解决方案</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#随便打开一个网页-用-javascript-打印所有以-s-和-h-开头的标签-并计算出标签的种类" class="anchor-link heading2"><div>随便打开一个网页，用 JavaScript 打印所有以 s 和 h 开头的标签，并计算出标签的种类</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#_1000-1000-的画布-上面有飞机、子弹-如何划分区域能够更有效的做碰撞检测-类似划分区域大小与碰撞检测效率的算法-说一下大致的思路" class="anchor-link heading2"><div>1000*1000 的画布，上面有飞机、子弹，如何划分区域能够更有效的做碰撞检测，类似划分区域大小与碰撞检测效率的算法，说一下大致的思路</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#移动设备android与-ios-的软键盘弹出的处理方式有什么不同" class="anchor-link heading2"><div>移动设备Android与 iOS 的软键盘弹出的处理方式有什么不同</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#iphone-里面-safari-上如果一个输入框-fixed-绝对定位在底部-当软键盘弹出的时候会有什么问题-如何解决" class="anchor-link heading2"><div>iPhone 里面 Safari 上如果一个输入框 fixed 绝对定位在底部，当软键盘弹出的时候会有什么问题，如何解决</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#给定一个数组-按找到每个元素右侧第一个比它大的数字-没有的话返回-1-规则返回一个数组" class="anchor-link heading2"><div>给定一个数组，按找到每个元素右侧第一个比它大的数字，没有的话返回-1 规则返回一个数组</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#说一说-promise-有几个状态-通过-catch-捕获到-reject-之后-在-catch-后面还能继续执行-then-方法嘛-如果能执行执行的是第几个回调函数" class="anchor-link heading2"><div>说一说 promise，有几个状态，通过 catch 捕获到 reject 之后，在 catch 后面还能继续执行 then 方法嘛，如果能执行执行的是第几个回调函数</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#如何实现按需加载" class="anchor-link heading2"><div>如何实现按需加载</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#讲一下-import-的原理-与-require-有什么不同" class="anchor-link heading2"><div>讲一下 import 的原理，与 require 有什么不同</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#是否用过-restful-接口-和其他风格的有什么区别" class="anchor-link heading2"><div>是否用过 restful 接口，和其他风格的有什么区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#手写用-es6proxy-如何实现-arr-1-的访问" class="anchor-link heading2"><div>手写用 ES6proxy 如何实现 arr[-1] 的访问</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#说一下-get、post、put-的区别" class="anchor-link heading2"><div>说一下 get、post、put 的区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#说一下对面向对象的理解-面向对象有什么好处" class="anchor-link heading2"><div>说一下对面向对象的理解，面向对象有什么好处</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#类设计-使用面相对象设计一个停车场管理系" class="anchor-link heading2"><div>类设计：使用面相对象设计一个停车场管理系</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#手写代码实现kuai-shou-front-end-kuaishoufrontend" class="anchor-link heading2"><div>手写代码实现kuai-shou-front-end=&gt;KuaiShouFrontEnd</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#用尽量短的代码实现一个-arrary-的链式操作-将数组中的大于-10-的值进行一个累加" class="anchor-link heading2"><div>用尽量短的代码实现一个 arrary 的链式操作，将数组中的大于 10 的值进行一个累加</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#es6对象面试题整理" class="anchor-link heading2"><div>ES6对象面试题整理</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#object-keys-a-、object-getownpropertynames-a-、reflect-ownkeys-a-以及for-in、object-getownpropertydescriptors的区别" class="anchor-link heading3"><div>Object.keys(a)、Object.getOwnPropertyNames(a)、Reflect.ownKeys(a)以及for in、Object.getOwnPropertyDescriptors的区别</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#在es6中-如何实现私有属性" class="anchor-link heading3"><div>在ES6中，如何实现私有属性</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#object-is有什么用-和-有什么区别" class="anchor-link heading3"><div>Object.is有什么用，和===有什么区别？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#object-assign的参数可以不是对象吗" class="anchor-link heading3"><div>Object.assign的参数可以不是对象吗？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#object-assign可以拷贝原型链上的属性吗-不可枚举的呢-symbol呢" class="anchor-link heading3"><div>Object.assign可以拷贝原型链上的属性吗？不可枚举的呢？Symbol呢？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#object-assign可以用在数组上吗" class="anchor-link heading3"><div>Object.assign可以用在数组上吗？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#下面代码运行结果是" class="anchor-link heading3"><div>下面代码运行结果是？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#object-assign能拷贝get和set属性吗-symbol和enumerable为false的属性呢" class="anchor-link heading3"><div>Object.assign能拷贝get和set属性吗，Symbol和enumerable为false的属性呢？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#如果想要拷贝一个对象-并且还想合并其get和set之类所有的属性怎么做" class="anchor-link heading3"><div>如果想要拷贝一个对象，并且还想合并其get和set之类所有的属性怎么做？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#如何将一个对象设置为另一个对象的原型" class="anchor-link heading3"><div>如何将一个对象设置为另一个对象的原型？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#如何使用for-of遍历对象-能遍历到原型链上的对象吗-能遍历enumerable为false的属性吗-能遍历symbol吗" class="anchor-link heading3"><div>如何使用for of遍历对象，能遍历到原型链上的对象吗？能遍历enumerable为false的属性吗？能遍历Symbol吗？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#map与object的区别是" class="anchor-link heading3"><div>Map与Object的区别是？</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#symbol的描述有什么用" class="anchor-link heading3"><div>Symbol的描述有什么用</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#可枚举属性enumerable被设置为false-会影响那些情况" class="anchor-link heading3"><div>可枚举属性enumerable被设置为false，会影响那些情况</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#super只能用到class的constructor中吗" class="anchor-link heading3"><div>super只能用到class的constructor中吗</div></a></li><li class="anchor"><a href="/posts/JavaScript/%E9%9D%A2%E8%AF%95/#一个对象被设置了object-preventextensions后-还可以向这个对象的原型添加属性吗" class="anchor-link heading3"><div>一个对象被设置了Object.preventExtensions后，还可以向这个对象的原型添加属性吗</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="面试"><a href="#面试" class="header-anchor">#</a> 面试</h1> <h2 id="target-和-currenttarget-区别"><a href="#target-和-currenttarget-区别" class="header-anchor">#</a> target 和 currentTarget 区别</h2> <ol><li><p>target 返回触发事件的元素</p></li> <li><p>currentTarget 返回绑定事件的元素</p></li></ol> <h2 id="事件委托"><a href="#事件委托" class="header-anchor">#</a> 事件委托</h2> <p>事件委托利用了事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。所有用到按钮的事件（多数鼠标事件和键盘事件）都适合采用事件委托技术， 使用事件委托可以节省内存。</p> <h2 id="事件循环"><a href="#事件循环" class="header-anchor">#</a> 事件循环</h2> <p>事件循环是一个单线程的循环，用于监视调用堆栈并检查是否有工作即将在任务队列中完成。如果调用堆栈为空并且任务中有回调函数，则将回调函数出堆并推送到调用堆栈中执行</p> <p><a href="/posts/JavaScript/#事件循环机制之宏任务-队列-和微任务-队列">详情+例子</a></p> <h2 id="如何自定义事件-原生-js-提供的事件"><a href="#如何自定义事件-原生-js-提供的事件" class="header-anchor">#</a> 如何自定义事件（原生 js 提供的事件）</h2> <ol><li>createEvent，设置事件类型，是 html 事件还是鼠标事件</li> <li>initEvent，初始化事件，事件名称，是否允许冒泡，是否阻止自定义事件</li> <li>dispatchEvent，触发事件</li></ol> <h2 id="基础数据类型-原始数据类型-引用数据类型-数据类型判断"><a href="#基础数据类型-原始数据类型-引用数据类型-数据类型判断" class="header-anchor">#</a> 基础数据类型，原始数据类型，引用数据类型，数据类型判断</h2> <p><a href="/posts/JavaScript/#js的数据类型及其检测">跳转</a></p> <h2 id="var、let-和-const-的问题"><a href="#var、let-和-const-的问题" class="header-anchor">#</a> var、let 和 const 的问题</h2> <p><a href="/posts/JavaScript/#变量定义-var、let、const">跳转</a></p> <h2 id="数组去重"><a href="#数组去重" class="header-anchor">#</a> 数组去重</h2> <p><a href="/posts/JavaScript/基本算法.html#_3-1数组去重">跳转</a></p> <h2 id="对象的深拷贝和浅拷贝"><a href="#对象的深拷贝和浅拷贝" class="header-anchor">#</a> 对象的深拷贝和浅拷贝</h2> <p><a href="/posts/JavaScript/工具函数.html#_13-object-assign-对象属性的复制，浅拷贝">跳转</a></p> <h2 id="prototype-和-proto-的关系式什么"><a href="#prototype-和-proto-的关系式什么" class="header-anchor">#</a> prototype 和 proto 的关系式什么</h2> <p>所有的对象都有 proto 属性，他指向对象的构造函数的 prototype</p> <h2 id="new-一个对象经历了什么-手写-new-关键字"><a href="#new-一个对象经历了什么-手写-new-关键字" class="header-anchor">#</a> new 一个对象经历了什么，手写 new 关键字</h2> <p><a href="/posts/JavaScript/#面向对象">跳转</a></p> <h2 id="this"><a href="#this" class="header-anchor">#</a> this</h2> <p><a href="/posts/JavaScript/#面向对象">跳转</a></p> <h2 id="bind、call、apply-区别"><a href="#bind、call、apply-区别" class="header-anchor">#</a> bind、call、apply 区别</h2> <p>call 和 apply 其实是一样的，区别就在于传参时参数是一个一个传或者是以一个数组的方式来传。call 和 apply 都是在调用时生效，改变调用者的 this 指向。</p> <p>bind 也是改变 this 指向，不过不是在调用时生效，而是返回一个新函数。</p> <h2 id="继承问题"><a href="#继承问题" class="header-anchor">#</a> 继承问题</h2> <p><a href="/posts/JavaScript/#面向对象">跳转</a></p> <h2 id="打印值"><a href="#打印值" class="header-anchor">#</a> 打印值</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span>  <span class="token comment">// 这个地方this的作用：在3的是是把this指向全局对象</span>
<span class="token punctuation">}</span>
Person<span class="token punctuation">.</span><span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getAge</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">// 1.  20</span>

<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment">// 2.  40</span>

<span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment">// 3. 10</span>

<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment">// 4. 10</span>

<span class="token keyword">new</span> <span class="token class-name">Person<span class="token punctuation">.</span>getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// 5. 20</span>

<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 6. 30</span>

<span class="token keyword">new</span> <span class="token class-name">new</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 7. 30</span>

<span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getAge<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 8. 30  对7的解释</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="闭包问题"><a href="#闭包问题" class="header-anchor">#</a> 闭包问题</h2> <p>闭包是指有权访问另一个函数作用域中的变量的函数。桥梁的概念</p> <h2 id="cookie、localstorage、sessionstorage-区别"><a href="#cookie、localstorage、sessionstorage-区别" class="header-anchor">#</a> cookie、localStorage、sessionStorage 区别</h2> <table><thead><tr><th>特性</th> <th>cookie</th> <th>localStorage</th> <th>sessionStorage</th></tr></thead> <tbody><tr><td>由谁初始化</td> <td>客户端或服务器，服务器可以使用 Set-Cookie 请求头。</td> <td>客户端</td> <td>客户端</td></tr> <tr><td>数据的生命周期</td> <td>一般由服务器生成，可设置失效时间，如果在浏览器生成，默认是关闭浏览器之后失效</td> <td>永久保存，可清除</td> <td>仅在当前会话有效，关闭页面后清除</td></tr> <tr><td>存放数据大小</td> <td>4KB</td> <td>5MB</td> <td>5MB</td></tr> <tr><td>与服务器通信</td> <td>每次都会携带在 HTTP 头中，如果使用 cookie 保存过多数据会带来性能问题</td> <td>仅在客户端保存</td> <td>仅在客户端保存</td></tr> <tr><td>用途</td> <td>一般由服务器生成，用于标识用户身份</td> <td>用于浏览器缓存数据</td> <td>用于浏览器缓存数据</td></tr> <tr><td>访问权限</td> <td>任意窗口</td> <td>任意窗口</td> <td>当前页面窗口</td></tr></tbody></table> <h2 id="防抖和节流"><a href="#防抖和节流" class="header-anchor">#</a> 防抖和节流</h2> <ol><li><p>防抖(debounce)：在函数需要频繁触发时，只有当有足够空闲的时间时，才执行一次。就好像在百度搜索时，每次输入之后都有联想词弹出，这个控制联想词的方法就不可能是输入框内容一改变就触发的，他一定是当你结束输入一段时间之后才会触发。</p></li> <li><p>节流(thorttle)：预定一个函数只有在大于等于执行周期时才执行，周期内调用不执行。就好像你在淘宝抢购某一件限量热卖商品时，你不断点刷新点购买，可是总有一段时间你点上是没有效果，这里就用到了节流，就是怕点的太快导致系统出现 bug。</p></li></ol> <p>区别：在发生持续触发事件时，防抖设置事件延迟并在空闲时间去触发事件，而节流则是隔一定的时间触发一次。</p> <h2 id="ajax"><a href="#ajax" class="header-anchor">#</a> Ajax</h2> <p>Ajax 是使用客户端上的许多 web 技术，创建一个 web 应用的一种 web 开发技术，借助 Ajax，web 应用可以异步（在后台）向服务器发送数据和从服务器检索数据，而不会干扰现有页面的显示和行为，将数据交换与表示层分离，Ajax 允许网页和扩展 web 应用程序动态更改内容，而无需重新加载整个页面，实际上，现在通常将 json 替换为 xml，因为 js 对 json 有原生优势</p> <p>使用 xml 如何封装</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> xmlhttp<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  xmlhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  xmlhttp <span class="token operator">=</span> <span class="token function">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// IE5,6</span>
<span class="token punctuation">}</span>
xmlhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  xmlhttp<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span>
  xmlhttp<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xmlhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

xmlhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/xxx/xxx.txt&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xmlhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>使用 Ajax 的优缺点</p> <p>优点：</p> <ol><li>交互性更好，来自服务端的新内容可以动态更新，无需重新加载整个页面</li> <li>减少与服务器的连接，因为脚本和样式只需要被请求一次</li> <li>状态可以维护在一个页面，js 变量和 dom 状态将得到保持，因为主容器未被重新加载</li> <li>基本上包括大部分 SPA 的优点</li></ol> <p>缺点：</p> <ol><li>动态网页很难收藏</li> <li>网页 js 不能使用，则 Ajax 也不能使用</li> <li>有些网络爬虫不执行 js，也不会看到 js 的加载内容</li> <li>基本上也包括了大部分 SPA 的缺点</li></ol> <p>比较一下 Ajax 和 Fetch</p> <ol><li>Fetch 书写比 ajax 简单</li> <li>fetch 基于 Promise，不可以取消，因为 Promise 做不到</li> <li>在默认情况下面，fetch 不接受和发送 cookies</li> <li>fetch 只对网络报错</li> <li>兼容性就不用多说了</li></ol> <p>ajax 中的 post 提交数据</p> <ol><li><p>默认是：application/x-www-form-urlencoded（可以加上 ;charset=UTF-8）key-value 字符串的提交</p></li> <li><p>有文件上传时候：multipart/form-data</p></li> <li><p>现代一点的是：application/json，可以传送各种格式的数据</p></li></ol> <h2 id="同源策略"><a href="#同源策略" class="header-anchor">#</a> 同源策略</h2> <p>同源策略可防止 js 发生跨域请求，源被定义为 URI，主机名和端口号的组合。此策略可防止页面的恶意脚本通过该页面的文档对象模型，访问另一个网页上的敏感数据</p> <h2 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h2> <ol><li><p>jsonp: 通过回调函数的形式，执行请求之后的方法，思想来源 script 的 src</p></li> <li><p>后端配置允许访问（access-control-allow-origin）请求头的设置</p></li> <li><p>webpack 中的 proxyTable</p></li></ol> <h2 id="http-问题"><a href="#http-问题" class="header-anchor">#</a> HTTP 问题</h2> <p><a href="/posts/internet/">跳转</a></p> <h2 id="基本算法"><a href="#基本算法" class="header-anchor">#</a> 基本算法</h2> <p><a href="/posts/JavaScript/基本算法.html#_1-排序算法">跳转</a></p> <h2 id="foreach-return-的问题"><a href="#foreach-return-的问题" class="header-anchor">#</a> forEach return 的问题</h2> <p>我们知道<code>forEach</code> 中 <code>return</code>是无法终止循环的，但是有些之后我们又想要他停下来，又不想使用<code>for</code>循环写，有方法吗？那必须有，如果没有我还说个啥，不说了，上代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 需求：打印3以下的数字3，之后就循环终止
 * 除了for循环，我能想到有如下三种
 */</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 1. forEach + try catch</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">&quot;循环终止&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2. 利用every return false就终止的特性</span>
arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;循环终止&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. 利用some return true就终止的特性</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;循环终止&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="如何理解面向对象-以及如何理解函数式编程"><a href="#如何理解面向对象-以及如何理解函数式编程" class="header-anchor">#</a> 如何理解面向对象，以及如何理解函数式编程</h2> <h2 id="浏览器的渲染过程"><a href="#浏览器的渲染过程" class="header-anchor">#</a> 浏览器的渲染过程</h2> <ol><li>DNS 的查询(也就是根据域名去找对应的 ip 地址)</li> <li>TCP 的连接(连接建立、数据传送以及连接释放)</li> <li>HTTP 请求即响应</li> <li>服务端响应</li> <li>客户端渲染</li></ol> <p>渲染过程如下：</p> <ol><li>解析 html 生成 dom 树</li> <li>解析 css 生成 cssom 树</li> <li>将 dom 树和 cssom 树规则合并在一起生成渲染树</li> <li>遍历渲染树开始布局，计算每一个节点的位置信息等</li> <li>将渲染树每个节点绘制到屏幕</li></ol> <h2 id="浏览器的缓存机制"><a href="#浏览器的缓存机制" class="header-anchor">#</a> 浏览器的缓存机制</h2> <p>浏览器的缓存机制也就是我们说的 HTTP 缓存机制，其机制是根据 HTTP 抱文的缓存标识进行的，HTTP 抱文分为两种：</p> <ol><li>HTTP 请求(Request)抱文</li> <li>HTTP 响应(Response)抱文</li></ol> <p>浏览器与服务器通信的方式为应答模式，即为：<a href="/posts/internet/TCP%E7%9A%843%E6%AC%A1%E6%8F%A1%E6%89%8B">浏览器发起 HTTP 请求 – 服务器响应该</a>请求，那么浏览器第一次向服务器发起该请求后拿到请求结果，会根据响应报文中 HTTP 头的缓存标识，决定是否缓存结果，是则将请求结果和缓存标识存入浏览器缓存中</p> <ol><li>浏览器每次发起请求，都会先在浏览器缓存中查找该请求的结果以及缓存标识</li> <li>浏览器每次拿到返回的请求结果都会将该结果和缓存标识存入浏览器缓存中</li></ol> <p>缓存分为强制缓存和协商缓存</p> <ul><li><p>强制缓存</p> <ul><li>HTTP 响应报文中的 expires--<code>expires: Wed, 21 Oct 2020 03:25:41 GMT</code>，这个是一个绝对时间，在指定的时间前请求缓存生效</li> <li>HTTP 响应报文中的 Cache-Control--<code>cache-control: max-age=600</code>，这是一个相对值，单位 s，也就是 600s 之内再次请求会直接使用缓存，强制缓存生效
<blockquote><p>在无法确定客户端的时间是否与服务端的时间同步的情况下，Cache-Control 相比于 expires 是更好的选择，所以同时存在时，只有 Cache-Control 生效</p></blockquote></li></ul> <p>强制缓存的返回状态码为： 200</p> <p>但是看返回值中的 size 栏中有<code>from memory cache</code>和<code>from disk cache</code>：分别是内存中的缓存和硬盘中的缓存，浏览器对与两者的读取顺序是： memory -&gt; disk</p> <ol><li><p>内存缓存：快速读取（直接写入进程的内存中，方便下次使用和快速读取）和时效性（也就是一旦关闭进程关闭，内存就会清空）</p></li> <li><p>直接将缓存写入硬盘文件中，读取缓存需要对硬盘文件进行 I/O 操作，读取是复杂的，速度也是比内存慢的</p></li></ol></li> <li><p>协商缓存(协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用缓存的过程)</p> <ul><li>协商缓存生效，返回 304</li> <li>协商缓存失效，返回 200 和请求结果结果</li></ul></li></ul> <p>协商缓存的表示在响应的报文中为：<code>Last-Modified / If-Modified-Since</code> 和 <code>Etag / If-None-Match</code>， 其中 <code>Etag / If-None-Match</code> &gt; <code>Last-Modified / If-Modified-Since</code></p> <ul><li>也就是说： 强制缓存优先于协商缓存进行，若强制缓存(Expires 和 Cache-Control)生效则直接使用缓存，若不生效则进行协商缓存(Last-Modified / If-Modified-Since 和 Etag / If-None-Match)，协商缓存由服务器决定是否使用缓存，若协商缓存失效，那么代表该请求的缓存失效，重新获取请求结果，再存入浏览器缓存中；生效则返回 304，继续使用缓存</li></ul> <p><img src="/assets/img/cache.304551db.png" alt="图解"></p> <h2 id="浏览器的垃圾回收机制与内存泄漏"><a href="#浏览器的垃圾回收机制与内存泄漏" class="header-anchor">#</a> 浏览器的垃圾回收机制与内存泄漏</h2> <p>浏览器对 js 具有自动垃圾回收机制(GC: Garbage COllecation)，也就是说，执行环境会负责管理代码执行过程中使用的内存，其原理：<em>垃圾收集器会定期（周期性）找出那些不再继续使用的变量，然后释放其内存</em>。但是这个过程不是实时的，因为其开销比较大并且 GC 时停止响应其他操作，所以垃圾回收器会按照固定的时间间隔周期性的执行。</p> <p>两种实现方式：<code>标记清除</code>和<code>引用计数</code>。引用计数不太常用，标记清除较为常用。</p> <h3 id="_1-标记清除"><a href="#_1-标记清除" class="header-anchor">#</a> 1. 标记清除</h3> <p>js 中最常用的垃圾回收方式就是标记清除。当变量进入环境时，变量“进入环境”，被标记，离开环境时，被回收</p> <p>垃圾回收器在运行的时候会给存储在内存中的所有变量都加上标记，然后它会去掉环境中的变量以及被环境中的变量引用的变量的标记（闭包），而在此之后再被加上标记的变量将被视为准备删除的变量，原因是环境中的变量已经无法访问到这些变量了。最后垃圾回收器完成内存清除工作，销毁那些带标记的值并回收它们所占用的内存空间。
到目前为止，IE9+、Firefox、Opera、Chrome、Safari 的 js 实现使用的都是标记清除的垃圾回收策略或类似的策略，只不过垃圾收集的时间间隔互不相同。</p> <h3 id="_2-引用计数"><a href="#_2-引用计数" class="header-anchor">#</a> 2. 引用计数</h3> <p>引用计数的含义是跟踪记录每个值被引用的次数。当声明了一个变量并将一个引用类型值赋给该变量时，则这个值的引用次数就是 1。如果同一个值又被赋给另一个变量，则该值的引用次数加 1。相反，如果包含对这个值引用的变量又取得了另外一个值，则这个值的引用次数减 1。当这个值的引用次数变成 0 时，则说明没有办法再访问这个值了，因而就可以将其占用的内存空间回收回来。这样，当垃圾回收器下次再运行时，它就会释放那些引用次数为 0 的值所占用的内存。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//a的引用次数为0</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">//a的引用次数加1，为1</span>
  <span class="token keyword">var</span> c <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">//a的引用次数再加1，为2</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//a的引用次数减1，为1</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用这种方法看起来好像很好理解，但当遇到循环引用的时候就很难受了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;some_element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myObject<span class="token punctuation">.</span>e <span class="token operator">=</span> element<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>o <span class="token operator">=</span> myObject<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">outerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>第二个例子：obj 引用了 <code>document.getElementById('element')</code>，onclick 方法会引用外部环境中的变量，自然也包括 obj，这种隐蔽的循环引用很难发现的</p> <p>遇到这样的情况我们需要手动去解除</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myObject<span class="token punctuation">.</span>element <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>o <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">outerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在 <code>IE8-</code>格外需要注意这些事情，不过现在我们开发需要兼容 <code>IE8-</code>的情况正在一步步减少</p> <h3 id="内存管理"><a href="#内存管理" class="header-anchor">#</a> 内存管理</h3> <ol><li>何时触发垃圾回收？</li></ol> <p>垃圾回收器周期性运行，如果分配的内存非常多，那么回收工作也会很艰巨，确定垃圾回收时间间隔就变成了一个值得思考的问题。IE6 的垃圾回收是根据内存分配量运行的，当环境中存在 256 个变量、4096 个对象、64k 的字符串任意一种情况的时候就会触发垃圾回收器工作，看起来很科学，不用按一段时间就调用一次，有时候会没必要，这样按需调用不是很好吗？但是如果环境中就是有这么多变量等一直存在，现在脚本如此复杂，很正常，那么结果就是垃圾回收器一直在工作，这样浏览器就没法儿玩儿了。</p> <p>微软在 IE7 中做了调整，触发条件不再是固定的，而是动态修改的，初始值和 IE6 相同，如果垃圾回收器回收的内存分配量低于程序占用内存的 15%，说明大部分内存不可被回收，设的垃圾回收触发条件过于敏感，这时候把临街条件翻倍，如果回收的内存高于 85%，说明大部分内存早就该清理了，这时候把触发条件置回。这样就使垃圾回收工作职能了很多</p> <ol start="2"><li>合理的 GC 方案</li></ol> <ul><li><p>基本方案
Javascript 引擎基础 GC 方案是（simple GC）：mark and sweep（标记清除），即：</p> <ol><li>遍历所有可访问的对象。</li> <li>回收已不可访问的对象。</li></ol></li> <li><p>GC 缺陷
和其他语言一样，javascript 的 GC 策略也无法避免一个问题：GC 时，停止响应其他操作，这是为了安全考虑。而 Javascript 的 GC 在 100ms 甚至以上，对一般的应用还好，但对于 JS 游戏，动画对连贯性要求比较高的应用，就麻烦了。这就是新引擎需要优化的点：避免 GC 造成的长时间停止响应。</p></li> <li><p>GC 优化策略</p> <ol><li>分代回收：区分“临时”与“持久”对象，多回收“临时对象”区（young generation），少回收“持久对象”区（tenured generation），减少每次需要遍历的对象</li> <li>增量 GC：增加回收次数，牺牲的是中断次数</li></ol></li></ul> <h2 id="防抖、节流"><a href="#防抖、节流" class="header-anchor">#</a> 防抖、节流</h2> <ol><li>防抖：</li></ol> <ul><li>在时间出发n秒后再执行回调，如果在这n秒以内又被触发了，则重新计时</li> <li>适用场景：
<ul><li>按钮的提交：防止重复提交</li> <li>搜索框检索，防止频繁调用接口影响体验和对服务器造成压力</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
    timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments
    <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><ol start="2"><li>节流：</li></ol> <ul><li>规定在一个时间内，只能触发一次函数，如果这个时间内多次触发，只生效一次</li> <li>适用场景：
<ul><li>拖拽场景：防止dom大量的重拍影响性能</li> <li>缩放场景：频繁触发resize，性能</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <ol><li>什么是闭包</li></ol> <p>函数执行后返回结果是一个内部函数，并被外部变量所引用，如果内部函数持有被执行函数作用域的变量，既形成闭包</p> <ol start="2"><li>闭包原理</li></ol> <p>函数执行分成两个阶段(预编译阶段和执行阶段)。</p> <ul><li>在预编译阶段，如果发现内部函数使用了外部函数的变量，则会在内存中创建一个“闭包”对象并保存对应变量值，如果已存在“闭包”，则只需要增加对应属性值即可。</li> <li>执行完后，函数执行上下文会被销毁，函数对“闭包”对象的引用也会被销毁，但其内部函数还持用该“闭包”的引用，所以内部函数可以继续使用“外部函数”中的变量</li></ul> <p>利用了函数作用域链的特性，一个函数内部定义的函数会将包含外部函数的活动对象添加到它的作用域链中，函数执行完毕，其执行作用域链销毁，但因内部函数的作用域链仍然在引用这个活动对象，所以其活动对象不会被销毁，直到内部函数被烧毁后才被销毁。</p> <ol start="3"><li>优点</li></ol> <ul><li>3.1. 可以从内部函数访问外部函数的作用域中的变量，且访问到的变量长期在内存中，可以使用</li> <li>3.2. 避免变量全局污染</li> <li>3.3. 把变量储存在独立的作用域，作为私有成员存在</li></ul> <ol start="4"><li>缺点</li></ol> <ul><li>4.1. 内存泄漏</li> <li>4.2. 对速度的影响，内部的层级决定了引用的外部变量在查找时经过的作用链长度</li> <li>4.3. 可能获取意外值</li></ul> <ol start="5"><li>使用场景</li></ol> <ul><li>5.1 模块封装</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">function</span> <span class="token function">func</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  fn<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> foo
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> func
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>5.2 循环中使用</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="写一个mysetinterval-fn-a-b-每次间隔-a-a-b-a-2b-a-nb-的时间-执行一次fn-然后写一个-myclear-停止上面的-mysetinterval"><a href="#写一个mysetinterval-fn-a-b-每次间隔-a-a-b-a-2b-a-nb-的时间-执行一次fn-然后写一个-myclear-停止上面的-mysetinterval" class="header-anchor">#</a> 写一个mySetInterVal(fn, a, b),每次间隔 a,a+b,a+2b,...,a+nb 的时间，执行一次fn，然后写一个 myClear，停止上面的 mySetInterVal</h2> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">mySetTnterval</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a
    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b
    <span class="token keyword">this</span><span class="token punctuation">.</span>fn <span class="token operator">=</span> fn
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">stop</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> demo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mySetTnterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
demo<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
demo<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></details> <h2 id="实现-add-1-2-3"><a href="#实现-add-1-2-3" class="header-anchor">#</a> 实现 add(1)(2)(3)</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * add(1)(2)(3)
 */</span>

<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>add<span class="token punctuation">.</span>result<span class="token punctuation">)</span> add<span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token number">0</span>
  add<span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">,</span> add<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
  <span class="token keyword">return</span> add
<span class="token punctuation">}</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>result
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="实现链式调用"><a href="#实现链式调用" class="header-anchor">#</a> 实现链式调用</h2> <p>不管是原来的jq还是现在的一些数组，链式调用的核心都是<code>return this</code></p> <h2 id="类数组和数组的区别-dom-的类数组如何转换成数组"><a href="#类数组和数组的区别-dom-的类数组如何转换成数组" class="header-anchor">#</a> 类数组和数组的区别，dom 的类数组如何转换成数组</h2> <p>区别：</p> <ol><li>数组有索引</li> <li>数组有长度，对象没有</li></ol> <p>什么是类数组</p> <ol><li>拥有length属性，且索引为非负整数</li> <li>不具有数组的方法</li></ol> <p>eg:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">'sss'</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;2&quot;</span><span class="token operator">:</span> <span class="token string">'rerer'</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> e<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
e <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>  <span class="token comment">// false</span>
e <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如何判断快速判断数组和类数组</p> <p>Object.prototype.toStrong.call()</p> <p>[object Array]
[object Object]</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isArrayLike</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
      o <span class="token operator">&amp;&amp;</span> <span class="token comment">// o is not null, undefined, etc.          </span>
      <span class="token keyword">typeof</span> o <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o is an object          </span>
      <span class="token function">isFinite</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o.length is a finite number          </span>
      o<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">// o.length is non-negative          </span>
      o<span class="token punctuation">.</span>length<span class="token operator">===</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>  <span class="token comment">// o.length is an integer          </span>
      o<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">4294967296</span> <span class="token comment">// o.length &lt; 2^32    </span>
    <span class="token punctuation">)</span>                    
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// Then o is array-like  else          </span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                       <span class="token comment">// Otherwise it is not</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如何转化</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token punctuation">{</span> 
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">'sss'</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;2&quot;</span><span class="token operator">:</span> <span class="token string">'rerer'</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1. array.from</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 2. slice</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 3. dom时候</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>e<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="介绍下-promise-的特性、优缺点-内部是如何实现的-动手实现-promise"><a href="#介绍下-promise-的特性、优缺点-内部是如何实现的-动手实现-promise" class="header-anchor">#</a> 介绍下 promise 的特性、优缺点，内部是如何实现的，动手实现 Promise</h2> <ol><li>Promise特性</li></ol> <ul><li><ol><li>Promise有三种状态：pending(进行中)、fulfilled(已成功)、rejected(已失败)</li></ol></li> <li><ol start="2"><li>Promise对象接受一个回调函数作为参数, 该回调函数接受两个参数，分别是成功时的回调resolve和失败时的回调reject；另外resolve的参数除了正常值以外， 还可能是一个Promise对象的实例；reject的参数通常是一个Error对象的实例。</li></ol></li> <li><ol start="3"><li>then方法返回一个新的Promise实例，并接收两个参数onResolved(fulfilled状态的回调)；onRejected(rejected状态的回调，该参数可选)</li></ol></li> <li><ol start="4"><li>finally方法不管Promise状态如何都会执行，该方法的回调函数不接受任何参数</li></ol></li> <li><ol start="5"><li>Promise.all()方法将多个Promise实例，包装成一个新的Promise实例，该方法接受一个由Promise对象组成的数组作为参数(Promise.all()方法的参数可以不是数组，但必须具有Iterator接口，且返回的每个成员都是Promise实例)，注意参数中只要有一个实例触发catch方法，都会触发Promise.all()方法返回的新的实例的catch方法，如果参数中的某个实例本身调用了catch方法，将不会触发Promise.all()方法返回的新实例的catch方法</li></ol></li> <li><ol start="6"><li>Promise.race()方法的参数与Promise.all方法一样，参数中的实例只要有一个率先改变状态就会将该实例的状态传给Promise.race()方法，并将返回值作为Promise.race()方法产生的Promise实例的返回值</li></ol></li></ul> <ol start="2"><li>Promise优点</li></ol> <ul><li><ol><li>统一异步 API</li></ol> <ul><li>Promise 的一个重要优点是它将逐渐被用作浏览器的异步 API ，统一现在各种各样的 API ，以及不兼容的模式和手法。</li></ul></li> <li><ol start="2"><li>和事件对比</li></ol> <ul><li>和事件相比较， Promise 更适合处理一次性的结果。在结果计算出来之前或之后注册回调函数都是可以的，都可以拿到正确的值。 Promise 的这个优点很自然。但是，不能使用 Promise 处理多次触发的事件。链式处理是 Promise 的又一优点，但是事件却不能这样链式处理。</li></ul></li> <li><ol start="3"><li>和回调对比</li></ol> <ul><li>解决了回调地狱的问题，将异步操作以同步操作的流程表达出来。</li></ul></li> <li><ol start="4"><li>Promise 带来的额外好处是包含了更好的错误处理方式（包含了异常处理），并且写起来很轻松（因为可以重用一些同步的工具，比如 Array.prototype.map() ）。</li></ol></li></ul> <ol start="3"><li>Promise缺点</li></ol> <ul><li>无法取消Promise，一旦新建它就会立即执行，无法中途取消。</li> <li>如果不设置回调函数，Promise内部抛出的错误，不会反应到外部。</li> <li>当处于Pending状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。</li> <li>Promise 真正执行回调的时候，定义 Promise 那部分实际上已经走完了，所以 Promise 的报错堆栈上下文不太友好。</li></ul> <ol start="4"><li>如何实现</li></ol> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">STATUS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">PENDDING</span><span class="token operator">:</span> <span class="token string">'pendding'</span><span class="token punctuation">,</span>
  <span class="token constant">FULFILLED</span><span class="token operator">:</span> <span class="token string">'fulfilled'</span><span class="token punctuation">,</span>
  <span class="token constant">REJECTED</span><span class="token operator">:</span> <span class="token string">'rejected'</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">myPromise</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">rightnow</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">PENDDING</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>reason <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCBs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onResolvedCBs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> <span class="token function-variable function">resolve</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">PENDDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">FULFILLED</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
        <span class="token keyword">this</span><span class="token punctuation">.</span>onResolvedCBs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">reject</span> <span class="token operator">=</span> <span class="token parameter">reason</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">PENDDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">REJECTED</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reason <span class="token operator">=</span> reason
        <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCBs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">rightnow</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> error
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">onResolved<span class="token punctuation">,</span> onRejected</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> re_promise <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">myPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">FULFILLED</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">onResolved</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
          <span class="token comment">/**
           * resolvePromise需要满足如下含义
           * 1. 如果x为re_promise本身直接跳reject，否则无限循环
           * 2. 如果x不为promise，直接将x的值resolve到下一个then中去
           * 3. 如果x位reject，直接返回reject到下一个catch中去
           */</span>
          <span class="token function">resolvePromise</span><span class="token punctuation">(</span>re_promise<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">REJECTED</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span>
          <span class="token function">resolvePromise</span><span class="token punctuation">(</span>re_promise<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token constant">STATUS</span><span class="token punctuation">.</span><span class="token constant">PENDDING</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>onRejectedCBs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span>
            <span class="token function">resolvePromise</span><span class="token punctuation">(</span>re_promise<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>onResolvedCBs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">onResolved</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token function">resolvePromise</span><span class="token punctuation">(</span>re_promise<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      actions<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">]</span><span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> re_promise
  <span class="token punctuation">}</span>

  <span class="token keyword">catch</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 
 * @param {Promise} promise 返回的promise
 * @param {any} x 前一个then的return值
 * @param {function} resolve promise的resolve
 * @param {function} reject promise的reject
 * @returns Promise
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">resolvePromise</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">promise<span class="token punctuation">,</span> x<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>promise <span class="token operator">===</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'then中的方法返回的promise和构造函数一样，会无限循环'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> caller <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isPromiseLike</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> then <span class="token operator">=</span> x<span class="token punctuation">.</span>then
      <span class="token function">then</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>caller<span class="token punctuation">)</span> <span class="token keyword">return</span>
        caller <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">resolvePromise</span><span class="token punctuation">(</span>promise<span class="token punctuation">,</span> y<span class="token punctuation">,</span> resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>caller<span class="token punctuation">)</span> <span class="token keyword">return</span>
        caller <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>caller<span class="token punctuation">)</span> <span class="token keyword">return</span>
      caller <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// note: Promise A+ 规范: https://promisesaplus.com/</span>
<span class="token keyword">const</span> <span class="token function-variable function">isPromiseLike</span> <span class="token operator">=</span> <span class="token parameter">p</span> <span class="token operator">=&gt;</span> p <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> p <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> p <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> p<span class="token punctuation">.</span>then <span class="token operator">===</span> <span class="token string">'function'</span>

<span class="token keyword">new</span> <span class="token class-name">myPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resolve'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'reject'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res------&gt;'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'err------&gt;'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// note: promise</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Promise<span class="token punctuation">.</span>all<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Promise</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">all</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token keyword">let</span> fulfillCount
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> promises<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> count
        count<span class="token operator">++</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          result<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> res
          fulfillCount<span class="token operator">++</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>fulfillCount <span class="token operator">===</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br></div></div></details> <h2 id="手写发布订阅-手写一个eventbus"><a href="#手写发布订阅-手写一个eventbus" class="header-anchor">#</a> 手写发布订阅（手写一个eventBus）</h2> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">EventBus</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>listeners <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>fn<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> <span class="token operator">...</span>data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">tem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>data<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> tem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeListener</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeListeners</span><span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>names<span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      names<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">[</span>item<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventBus</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div></details> <h2 id="手写数组转树"><a href="#手写数组转树" class="header-anchor">#</a> 手写数组转树</h2> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> input <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">&quot;学校&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">&quot;班级1&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">&quot;班级2&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">&quot;学生1&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">&quot;学生2&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">&quot;学生3&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">buildTree</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> parentId<span class="token punctuation">,</span> childrenArray</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>parentId <span class="token operator">===</span> parentId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      item<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token function">buildTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span> item<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
      childrenArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">arrayToTree</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> parentId</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token function">buildTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> parentId<span class="token punctuation">,</span> array<span class="token punctuation">)</span>
  <span class="token keyword">return</span> array<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">(</span>array<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">arrayToTree</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div></details> <h2 id="手写实现-array-flat"><a href="#手写实现-array-flat" class="header-anchor">#</a> 手写实现 Array.flat()</h2> <p><a href="/posts/JavaScript/#_7-数组实例的-flat-flatmap">详情</a></p> <h2 id="大数计算如何实现"><a href="#大数计算如何实现" class="header-anchor">#</a> 大数计算如何实现</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">111111111111111111n</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">232222222222222222n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="什么是深拷贝-和浅拷贝有什么区别-动手实现一个深拷贝"><a href="#什么是深拷贝-和浅拷贝有什么区别-动手实现一个深拷贝" class="header-anchor">#</a> 什么是深拷贝，和浅拷贝有什么区别，动手实现一个深拷贝</h2> <ol><li><p>深拷贝：就是对对象以及对象的所有子对象进行复制</p></li> <li><p>浅拷贝：只复制一层对象的属性，并不包括对象里面的为引用类型的属性值，因此修改拷贝后的属性都是引用类型的就会影响原对象</p></li></ol> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">deepclone</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> obj<span class="token punctuation">)</span> <span class="token keyword">return</span> obj
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token keyword">const</span> cloneobj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    cloneobj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepclone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> cloneobj
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token literal-property property">g</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">symbol</span><span class="token operator">:</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'Symbol'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'=======&gt;'</span><span class="token punctuation">,</span> <span class="token function">deepclone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></details> <h2 id="实现一个方法判断-html-中的标签是否闭合"><a href="#实现一个方法判断-html-中的标签是否闭合" class="header-anchor">#</a> 实现一个方法判断 html 中的标签是否闭合</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">/</span><span class="token operator">^</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">[</span>\s\<span class="token constant">S</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\1&gt;$</span><span class="token regex-delimiter">/</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="箭头函数和普通函数的区别"><a href="#箭头函数和普通函数的区别" class="header-anchor">#</a> 箭头函数和普通函数的区别</h2> <ol><li>箭头函数不能绑定arguments，而是使用<code>rest</code>的<code>...</code>解决方案</li> <li>箭头函数是匿名函数，不能作为构造函数不能使用new</li> <li>箭头函数没有原型属性</li> <li>箭头函数不能绑定this，会将离自己最近的一个普通函数的this作为自己的this</li> <li>call、apply、bing都无法改变箭头函数的this指向</li></ol> <h2 id="es5-实现-isinteger"><a href="#es5-实现-isinteger" class="header-anchor">#</a> es5 实现 isInteger</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function-variable function">isInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ~: 取相反数再减1</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">~</span><span class="token operator">~</span>val <span class="token operator">===</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="手写-dom-操作-翻转-li-标签-如何处理更优"><a href="#手写-dom-操作-翻转-li-标签-如何处理更优" class="header-anchor">#</a> 手写 dom 操作，翻转 li 标签，如何处理更优</h2> <div class="language-html line-numbers-mode"><pre class="language-html"><code>/*
 *有下边这样的dom结构，现在可以获取到ul，要求翻转里边li标签，如何处理更优
 */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="是否了解-glob-glob-是如何处理文件的-业界是否还有其它解决方案"><a href="#是否了解-glob-glob-是如何处理文件的-业界是否还有其它解决方案" class="header-anchor">#</a> 是否了解 glob，glob 是如何处理文件的，业界是否还有其它解决方案</h2> <h2 id="随便打开一个网页-用-javascript-打印所有以-s-和-h-开头的标签-并计算出标签的种类"><a href="#随便打开一个网页-用-javascript-打印所有以-s-和-h-开头的标签-并计算出标签的种类" class="header-anchor">#</a> 随便打开一个网页，用 JavaScript 打印所有以 s 和 h 开头的标签，并计算出标签的种类</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> allTags <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>localName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>localName<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'所有品类-------&gt;'</span><span class="token punctuation">,</span> allTags<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'s/h标签名-------&gt;'</span><span class="token punctuation">,</span> allTags<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'s'</span> <span class="token operator">||</span> item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'h'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_1000-1000-的画布-上面有飞机、子弹-如何划分区域能够更有效的做碰撞检测-类似划分区域大小与碰撞检测效率的算法-说一下大致的思路"><a href="#_1000-1000-的画布-上面有飞机、子弹-如何划分区域能够更有效的做碰撞检测-类似划分区域大小与碰撞检测效率的算法-说一下大致的思路" class="header-anchor">#</a> 1000*1000 的画布，上面有飞机、子弹，如何划分区域能够更有效的做碰撞检测，类似划分区域大小与碰撞检测效率的算法，说一下大致的思路</h2> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 思路：二维的碰撞检测其实就是两个一维数组的相交，定好相关的标准就可以
 * 1. 已左上角为笛卡尔坐标系的(0,0)点
 * 2. 用三个要素(左上角坐标、宽、高)来一个长方形(物体)的唯一位置
 * 3. 这样就变成了同一平面两个长方形的碰撞检测了
 */</span>

<span class="token comment">// NOTE: 检测某一个点是否在矩形中</span>
<span class="token keyword">const</span> <span class="token function-variable function">checkPointInRect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">point <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> rect <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> point<span class="token punctuation">.</span>x <span class="token operator">&gt;=</span> rect<span class="token punctuation">.</span>p<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> point<span class="token punctuation">.</span>x <span class="token operator">&lt;=</span> rect<span class="token punctuation">.</span>p<span class="token punctuation">.</span>x <span class="token operator">+</span> rect<span class="token punctuation">.</span>w <span class="token operator">&amp;&amp;</span> point<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> rect<span class="token punctuation">.</span>p<span class="token punctuation">.</span>y <span class="token operator">&amp;&amp;</span> point<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> rect<span class="token punctuation">.</span>p<span class="token punctuation">.</span>y <span class="token operator">+</span> rect<span class="token punctuation">.</span>h
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">checking</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">rectA <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> rectB <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// NOTE: 其中一个矩形中的任何一个顶点在另一个矩形中，则表示他们肯定是相交（碰撞）的</span>
  <span class="token keyword">const</span> lefttop <span class="token operator">=</span> rectA<span class="token punctuation">.</span>p
  <span class="token keyword">const</span> righttop <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> rectA<span class="token punctuation">.</span>p<span class="token punctuation">.</span>x <span class="token operator">+</span> rectA<span class="token punctuation">.</span>w<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> rectA<span class="token punctuation">.</span>p<span class="token punctuation">.</span>y<span class="token punctuation">}</span>
  <span class="token keyword">const</span> leftbottom <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> rectA<span class="token punctuation">.</span>p<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> rectA<span class="token punctuation">.</span>p<span class="token punctuation">.</span>y <span class="token operator">+</span> rectA<span class="token punctuation">.</span>h<span class="token punctuation">}</span>
  <span class="token keyword">const</span> rightbottom <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> rectA<span class="token punctuation">.</span>p<span class="token punctuation">.</span>x <span class="token operator">+</span> rectA<span class="token punctuation">.</span>w<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> rectA<span class="token punctuation">.</span>p<span class="token punctuation">.</span>y <span class="token operator">+</span> rectA<span class="token punctuation">.</span>h<span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">checkPointInRect</span><span class="token punctuation">(</span>lefttop<span class="token punctuation">,</span> rectB<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">checkPointInRect</span><span class="token punctuation">(</span>righttop<span class="token punctuation">,</span> rectB<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">checkPointInRect</span><span class="token punctuation">(</span>leftbottom<span class="token punctuation">,</span> rectB<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">checkPointInRect</span><span class="token punctuation">(</span>rightbottom<span class="token punctuation">,</span> rectB<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> rA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">20</span> 
<span class="token punctuation">}</span>

<span class="token keyword">const</span> rB <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">20</span> 
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checking</span><span class="token punctuation">(</span>rA<span class="token punctuation">,</span> rB<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div></details> <p>扩展：在三维里面两个物体的碰撞，其实和上面的作法是一样，就不写了</p> <p>延展思维：两个矩阵点乘</p> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * ？：两个矩阵点乘的问题
 * 1. 判断是否为矩阵形式
 * 2. 判断是否可以相乘
 * 3. 计算出最后的结果
 */</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 判断是否为矩阵形式的二维数组</span>
<span class="token keyword">let</span> <span class="token function-variable function">isMatrix</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
  arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
  arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>length <span class="token operator">===</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">matrixMulti</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">matrix<span class="token punctuation">,</span> matrix1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 先判断是否满足矩阵相乘的条件</span>
  <span class="token comment">// 1. 确保两个数组都是矩阵数组</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isMatrix</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isMatrix</span><span class="token punctuation">(</span>matrix1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;存在不为矩阵的数组&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 2. 矩阵函数列数是可以相乘的</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix1<span class="token punctuation">.</span>length <span class="token operator">!==</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matrix<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">*</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">和</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matrix1<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">*</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matrix1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">的矩阵不可点乘</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// 先确定矩阵的行数和列数</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>matrix<span class="token punctuation">.</span>length<span class="token punctuation">,</span> matrix1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 数组有几行</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 一行中的每个数对应的值</span>
      arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
          <span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item <span class="token operator">*</span> matrix1<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token number">0</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;----------&gt;&quot;</span><span class="token punctuation">,</span> <span class="token function">matrixMulti</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div></details> <h2 id="移动设备android与-ios-的软键盘弹出的处理方式有什么不同"><a href="#移动设备android与-ios-的软键盘弹出的处理方式有什么不同" class="header-anchor">#</a> 移动设备Android与 iOS 的软键盘弹出的处理方式有什么不同</h2> <ol><li><p>Android：入框获取焦点，键盘弹起，页面（webview）高度会发生改变，高度为可视区高度（原高度减去软键盘高度），除了因为页面内容被撑开可以产生滚动，webview本身不能滚动。</p></li> <li><p>IOS：在 IOS 上，输入框（input、textarea 或 富文本）获取焦点，键盘弹起，页面（webview）并没有被压缩，或者说高度（height）没有改变，只是页面（webview）整体往上滚了，且最大滚动高度（scrollTop）为软键盘高度。</p></li></ol> <h2 id="iphone-里面-safari-上如果一个输入框-fixed-绝对定位在底部-当软键盘弹出的时候会有什么问题-如何解决"><a href="#iphone-里面-safari-上如果一个输入框-fixed-绝对定位在底部-当软键盘弹出的时候会有什么问题-如何解决" class="header-anchor">#</a> iPhone 里面 Safari 上如果一个输入框 fixed 绝对定位在底部，当软键盘弹出的时候会有什么问题，如何解决</h2> <p>flex + scrollIntoView</p> <h2 id="给定一个数组-按找到每个元素右侧第一个比它大的数字-没有的话返回-1-规则返回一个数组"><a href="#给定一个数组-按找到每个元素右侧第一个比它大的数字-没有的话返回-1-规则返回一个数组" class="header-anchor">#</a> 给定一个数组，按找到每个元素右侧第一个比它大的数字，没有的话返回-1 规则返回一个数组</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*
 * 示例：
 * 给定数组：[2,6,3,8,10,9]
 * 返回数组：[6,8,8,10,-1,-1]
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">newArr<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  newArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">f</span> <span class="token operator">=&gt;</span> f <span class="token operator">&gt;</span> item<span class="token punctuation">)</span><span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">return</span> newArr
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="说一说-promise-有几个状态-通过-catch-捕获到-reject-之后-在-catch-后面还能继续执行-then-方法嘛-如果能执行执行的是第几个回调函数"><a href="#说一说-promise-有几个状态-通过-catch-捕获到-reject-之后-在-catch-后面还能继续执行-then-方法嘛-如果能执行执行的是第几个回调函数" class="header-anchor">#</a> 说一说 promise，有几个状态，通过 catch 捕获到 reject 之后，在 catch 后面还能继续执行 then 方法嘛，如果能执行执行的是第几个回调函数</h2> <ol><li><p>状态： pending、resolved(fulfilled)、rejected</p></li> <li><p>可以， 如果没有返回新的promise这执行第2个回调，如果返回的了，按照新的返回值执行</p></li></ol> <h2 id="如何实现按需加载"><a href="#如何实现按需加载" class="header-anchor">#</a> 如何实现按需加载</h2> <p>import</p> <h2 id="讲一下-import-的原理-与-require-有什么不同"><a href="#讲一下-import-的原理-与-require-有什么不同" class="header-anchor">#</a> 讲一下 import 的原理，与 require 有什么不同</h2> <p>区别：</p> <ol><li>import是es6的产物；require是commonJS的产物</li> <li>导出方法的区别（umd的使用的好处）、写法上的区别，import必须在头部</li> <li>都是异步加载；import是解构过程，编译时候生效执行；require是赋值过程，在运行时执行</li></ol> <h2 id="是否用过-restful-接口-和其他风格的有什么区别"><a href="#是否用过-restful-接口-和其他风格的有什么区别" class="header-anchor">#</a> 是否用过 restful 接口，和其他风格的有什么区别</h2> <h2 id="手写用-es6proxy-如何实现-arr-1-的访问"><a href="#手写用-es6proxy-如何实现-arr-1-的访问" class="header-anchor">#</a> 手写用 ES6proxy 如何实现 arr[-1] 的访问</h2> <h2 id="说一下-get、post、put-的区别"><a href="#说一下-get、post、put-的区别" class="header-anchor">#</a> 说一下 get、post、put 的区别</h2> <table><thead><tr><th>method</th> <th>get</th> <th>post</th> <th>put</th> <th>delete</th> <th>patch（2010年新加，对put的补充）</th></tr></thead> <tbody><tr><td>作用</td> <td>信息获取</td> <td>创建数据</td> <td>创建/完整更新数据</td> <td>删除数据</td> <td>更新部分数据</td></tr> <tr><td>幂等</td> <td>是</td> <td>否</td> <td>是</td> <td>是</td> <td>否</td></tr> <tr><td>常用场景</td> <td>select操作</td> <td>create操作</td> <td>update操作</td> <td>delete操作</td> <td>对已知数据的部分更新</td></tr></tbody></table> <blockquote><p>幂等：一个操作、方法或者服务，其任意多次执行所产生的影响均与一次执行的影响相同。</p></blockquote> <h2 id="说一下对面向对象的理解-面向对象有什么好处"><a href="#说一下对面向对象的理解-面向对象有什么好处" class="header-anchor">#</a> 说一下对面向对象的理解，面向对象有什么好处</h2> <p>万物皆对象，比较方便的能够把一类问题用代码简单的说清楚</p> <h2 id="类设计-使用面相对象设计一个停车场管理系"><a href="#类设计-使用面相对象设计一个停车场管理系" class="header-anchor">#</a> 类设计：使用面相对象设计一个停车场管理系</h2> <details class="custom-block details"><summary>查看演示代码</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*
 * 题目要求
 * 使用面相对象设计一个停车场管理系统，该停车场包含：
 *	 1.停车位，用于停放车辆；
 *	 2.停车位提示牌，用于展示剩余停车位；
 * 可以丰富该系统的元素，给出类，类属性，类接口。
 */</span>

<span class="token keyword">const</span> AllCarapaceNum <span class="token operator">=</span> <span class="token number">500</span>

<span class="token keyword">class</span> <span class="token class-name">ParkCar</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rest <span class="token operator">=</span> AllCarapaceNum
  <span class="token punctuation">}</span>
  <span class="token function">comeinCarapace</span> <span class="token punctuation">(</span><span class="token parameter">num <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rest <span class="token operator">&gt;</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>rest <span class="token operator">-=</span>num
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'车位不够了，请等待'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">comeoutCarapace</span> <span class="token punctuation">(</span><span class="token parameter">num <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rest <span class="token operator">++</span>
  <span class="token punctuation">}</span>
  <span class="token function">restCarapaceNum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rest<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></details> <h2 id="手写代码实现kuai-shou-front-end-kuaishoufrontend"><a href="#手写代码实现kuai-shou-front-end-kuaishoufrontend" class="header-anchor">#</a> 手写代码实现kuai-shou-front-end=&gt;KuaiShouFrontEnd</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'kuai-shou-front-end'</span>
<span class="token comment">// NOTE: 横线转驼峰</span>
<span class="token keyword">const</span> <span class="token function-variable function">lineToW</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(-\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token parameter">$1</span> <span class="token operator">=&gt;</span> $1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// NOTE: 驼峰转横线</span>
<span class="token keyword">const</span> <span class="token function-variable function">wToLine</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Z]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token parameter">$1</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>$1<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">wToLine</span><span class="token punctuation">(</span><span class="token function">lineToW</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="用尽量短的代码实现一个-arrary-的链式操作-将数组中的大于-10-的值进行一个累加"><a href="#用尽量短的代码实现一个-arrary-的链式操作-将数组中的大于-10-的值进行一个累加" class="header-anchor">#</a> 用尽量短的代码实现一个 arrary 的链式操作，将数组中的大于 10 的值进行一个累加</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">sum10</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">&lt;=</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">(</span>sum <span class="token operator">+</span> <span class="token operator">+</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> sum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum10</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 15</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="es6对象面试题整理"><a href="#es6对象面试题整理" class="header-anchor">#</a> ES6对象面试题整理</h2> <h3 id="object-keys-a-、object-getownpropertynames-a-、reflect-ownkeys-a-以及for-in、object-getownpropertydescriptors的区别"><a href="#object-keys-a-、object-getownpropertynames-a-、reflect-ownkeys-a-以及for-in、object-getownpropertydescriptors的区别" class="header-anchor">#</a> Object.keys(a)、Object.getOwnPropertyNames(a)、Reflect.ownKeys(a)以及for in、Object.getOwnPropertyDescriptors的区别</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Oject<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 获取对象上正常的属性, 不包括Symbol属性，但是不包括enumerable属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 还可以获取不可迭代属性，既enumerable无false的属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 处理可以获取不可迭代属性，还可以获取Symbol属性</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token keyword">in</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 可以获取原型属性，但是不可获取不可迭代和Symbol对象。但是无法获取不可迭代属性和Symbol属性</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>可以使用<code>Object.getOwnPropertySymbols(c)</code>获取对象上所有的Symbols属性。</p> <p>Object.getOwnPropertyDescriptors是获取一个对象的所有的属性的描述符。</p> <h3 id="在es6中-如何实现私有属性"><a href="#在es6中-如何实现私有属性" class="header-anchor">#</a> 在ES6中，如何实现私有属性</h3> <p>使用Symbol，利用Symbol的唯一性，只要这个不对外暴露Symbol的索引，那么Symbol就不会被访问带</p> <p>在es next里面提供了private属性，使用#表示</p> <h3 id="object-is有什么用-和-有什么区别"><a href="#object-is有什么用-和-有什么区别" class="header-anchor">#</a> Object.is有什么用，和===有什么区别？</h3> <p><code>Object.is</code>可以判断NaN等于自身，而<code>+0</code>不等于<code>-0</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span> <span class="token comment">//true</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="object-assign的参数可以不是对象吗"><a href="#object-assign的参数可以不是对象吗" class="header-anchor">#</a> Object.assign的参数可以不是对象吗？</h3> <p>可以，参数不对，会尝试将其转换为对象，但是如果是null和undefined无法转换为对象，所以它们作为参数会报错。
如果非对象参数出现在源对象的位置（即非首参数），那么处理规则有所不同。
首先，这些参数都会转成对象，如果无法转成对象，就会跳过。
这意味着，如果undefined和null不在首参数，就不会报错。
所以，很多时候为了安全我们会这样写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="object-assign可以拷贝原型链上的属性吗-不可枚举的呢-symbol呢"><a href="#object-assign可以拷贝原型链上的属性吗-不可枚举的呢-symbol呢" class="header-anchor">#</a> Object.assign可以拷贝原型链上的属性吗？不可枚举的呢？Symbol呢？</h3> <p><code>Object.assign</code>只可以拷贝源对象自身的属性，不拷贝继承属性，也不拷贝不可枚举属性，但是可以拷贝Symbol属性。</p> <h3 id="object-assign可以用在数组上吗"><a href="#object-assign可以用在数组上吗" class="header-anchor">#</a> Object.assign可以用在数组上吗？</h3> <p>是可以的，数组会被当做对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [9,8,7,4,5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="下面代码运行结果是"><a href="#下面代码运行结果是" class="header-anchor">#</a> 下面代码运行结果是？</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>结果是<code>{foo: 1}</code>,Object.assign只能进行值的复制，如果要复制的值是一个取值函数，那么将求值后再复制。</p> <h3 id="object-assign能拷贝get和set属性吗-symbol和enumerable为false的属性呢"><a href="#object-assign能拷贝get和set属性吗-symbol和enumerable为false的属性呢" class="header-anchor">#</a> Object.assign能拷贝get和set属性吗，Symbol和enumerable为false的属性呢？</h3> <p>不能，这是因为Object.assign方法总是拷贝一个属性的值，而不会拷贝它背后的赋值方法或取值方法。
所以，如果是get方法，拷贝的内容是一个get方法返回的值，如果是set方法，拷贝的值则是undefined。
属性名会被拷贝。Symbol是可以拷贝的，但是enumerablle为false的不行。</p> <h3 id="如果想要拷贝一个对象-并且还想合并其get和set之类所有的属性怎么做"><a href="#如果想要拷贝一个对象-并且还想合并其get和set之类所有的属性怎么做" class="header-anchor">#</a> 如果想要拷贝一个对象，并且还想合并其get和set之类所有的属性怎么做？</h3> <p>可以使用<code>Object.getOwnPropertyDescriptors()</code>方法配合<code>Object.defineProperties()</code>方法，就可以实现拷贝get和set方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>同理，Object.assign也不能复制enumerable为false的属性，但是defineProperties可以。</p> <p>注意，这里如果只是希望单纯的拷贝，而不是类似<code>Object.assign</code>带有合并的功能，可以使用<code>Object.create</code>。
使用<code>Object.create</code>的有点在于可以将第一个参数设置为对象的原型，这样拷贝的对象也和源对象具有同样的原型链。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
  Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">,</span>
  Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="如何将一个对象设置为另一个对象的原型"><a href="#如何将一个对象设置为另一个对象的原型" class="header-anchor">#</a> 如何将一个对象设置为另一个对象的原型？</h3> <p>在以前，我们可以通过__proto__这种方法来指定一个对象是另一个对象的原型，但是这种用法并不是js的规范，只是一个内部属性。
虽然大部分浏览器和nodejs引擎实现了这种写法，当一般不推荐这样用。
在ES6中新加了setPrototypeOf，可以直接实现这个需求。</p> <p>另外，我们还可以通过Reflect来设置. <code>Reflect.setPrototypeOf(obj, newProto)</code></p> <h3 id="如何使用for-of遍历对象-能遍历到原型链上的对象吗-能遍历enumerable为false的属性吗-能遍历symbol吗"><a href="#如何使用for-of遍历对象-能遍历到原型链上的对象吗-能遍历enumerable为false的属性吗-能遍历symbol吗" class="header-anchor">#</a> 如何使用for of遍历对象，能遍历到原型链上的对象吗？能遍历enumerable为false的属性吗？能遍历Symbol吗？</h3> <p>对象本地是不可迭代的，但是可以使用Object.keys、Object.values、Object.entries获取对象的属性和值组成的数组。
他们都不包括enumerable为false和Symbol()的属性。</p> <p>注意：数组也有keys、values、entries三个方法。但是数组可以直接for of遍历。Set也是这样。</p> <h3 id="map与object的区别是"><a href="#map与object的区别是" class="header-anchor">#</a> Map与Object的区别是？</h3> <p>Map和Object都是键值对的集合（Hash结构），但是Map支持各种类型的值作为键。包括对象。
Map判断键是否相同，采用的是判断是地址是否是同一个地址，这样的优点是对别人的库进行扩展的时候，
如果采用对象作为键，则不会对别人的库进行污染。</p> <p>当然：一般这种情况要对象的扩展，我们可以用Symbol</p> <p>Map还可以使用for of对齐进行遍历，而Object不可以。</p> <h3 id="symbol的描述有什么用"><a href="#symbol的描述有什么用" class="header-anchor">#</a> Symbol的描述有什么用</h3> <p>在Symbol作为一个对象的函数的key的时候，这个函数的name属性返回的是Symbol值的描述</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'description'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> ob <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ob<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// [description]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Symbol(desription)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="可枚举属性enumerable被设置为false-会影响那些情况"><a href="#可枚举属性enumerable被设置为false-会影响那些情况" class="header-anchor">#</a> 可枚举属性enumerable被设置为false，会影响那些情况</h3> <ol><li>无法被<code>for...in</code>循环遍历</li> <li>无法被<code>Object.keys</code>获取属性</li> <li>无法被JSON.stringify序列化</li> <li>无法被<code>Object.assign</code>克隆</li></ol> <p>ES6规定，Class的原型的方法都是不可枚举的。</p> <h3 id="super只能用到class的constructor中吗"><a href="#super只能用到class的constructor中吗" class="header-anchor">#</a> <code>super</code>只能用到class的constructor中吗</h3> <p>不是，super还可以用到直接对象的方法里面，用来指对象。</p> <p>super也可以在class的static方法中调用父类的static方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> proto <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">,</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;hello&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>注意，super关键字表示原型对象时，只能用在对象的方法之中，用在其他地方都会报错。</p> <p>JavaScript 引擎内部，super.foo等同于Object.getPrototypeOf(this).foo（属性）或Object.getPrototypeOf(this).foo.call(this)（方法）。</p> <h3 id="一个对象被设置了object-preventextensions后-还可以向这个对象的原型添加属性吗"><a href="#一个对象被设置了object-preventextensions后-还可以向这个对象的原型添加属性吗" class="header-anchor">#</a> 一个对象被设置了Object.preventExtensions后，还可以向这个对象的原型添加属性吗</h3> <p>可以的，Object.preventExtensions只阻止向这个对象添加属性，不会阻止向原型添加。</p> <p>一旦使其不可扩展，就无法再对象进行扩展。</p> <p>在 ES5 中，如果参数不是一个对象类型，将抛出一个TypeError异常。</p> <p>在 ES2015 中，非对象参数将被视为一个不可扩展的普通对象，因此会被直接返回。</p> <p>使用<code>Reflect.preventExtensions(target)</code>添加不是一个对象类型则也会报错。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">December 23, 2022 13:14</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: salvatoreliaoxuan@didiglobal.com" class="contributor">
          salvatoreliaoxuan
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.69479025.js" defer></script><script src="/assets/js/layout-Layout.6a9f3724.js" defer></script><script src="/assets/js/page-面试.055e9814.js" defer></script>
  </body>
</html>
